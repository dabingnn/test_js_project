{"version":3,"sources":["resources/app.asar/node_modules/browser-pack/_prelude.js","script/gameCore/App.js","project.js","script/BgRandomMove.js","script/gameCore/common/ButtonControl.js","script/GameData.js","script/Game.js","script/gameCore/InitLBXFrame.js","script/gameCore/NewLBXKuai.js","script/ScoreBtnCp.js","script/StartBtnCp.js","script/gameCore/common/Util.js"],"names":["require","e","t","n","r","s","o","u","a","i","f","Error","code","l","exports","call","length","App","module","cc","_RFpush","app","startGame","modPath","path","_RFpop","BgRandomMove","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","_properties","Class","extends","Component","properties","randomMove","dt","pLength","p","this","randomDir","pMult","pNormalize","randomMinus1To1","moveDir","pAdd","action","repeatForever","sequence","moveBy","node","runAction","onLoad","ButtonControl","default","url","AudioClip","onClick","audioEngine","playEffect","GameData","Game","InitLBXFrame","type","SpriteFrame","checkXC","argument","disList","haveFKIndexList","frameList","isHaveFK","push","FKIndex","sort","b","xcList","oneXCList","intersectAry","get2AryIntersect","isXC","check2AryIsEqual","log","xiaochuSound","count","oneList","j","xIndex","FKNode","getChildByName","destroy","addScore","XCCount","addScoreCount","find","label","getComponent","Label","string","Number","ary1","ary2","srcPos","x","y","posList","addVec","pForAngle","Math","PI","pianyiTo0p0Vec","fPosList","oneSrcPos","aimPos","fPos","index","Node","sprite","addComponent","Sprite","spriteFrame","parent","picNode","spr","active","on","NewLBXKuai","Util","checkerboard","getTheConfig","h","configLists","newOneK","colorIndex","wenliNode","wenliSprite","newOneNode","kuaiNode","config","random","countPosList","randomIndex","pos","kuai","addChild","addTouchEvent","upH","self","ox","oy","EventType","TOUCH_START","anSound","TOUCH_MOVE","event","delta","touch","getDelta","collisionFunc","checkIsCanDrop","changeColorDeal","TOUCH_CANCEL","dropDownFunc","TOUCH_END","isJustClearColor","guangPicNode","checkFrameList","checkFKlist","children","childPos","position","frame","checkPosFunc","len","frameNode","dis","pDistance","checkIsLose","takeBack","canNotSound1","spawn","fadeOut","scaleTo","removeSelf","removeAllChildren","oneNode","emit","ranC","ScoreBtnCp","StartBtnCp","Prefab","callFunc","director","loadScene","anim","Animation","stop","_p","printObj","props","min","max","floor"],"mappings":"AAAAA,QAAA,QAAAC,GAAAC,EAAAC,EAAAC,GAAA,QAAAC,GAAAC,EAAAC,GAAA,IAAAJ,EAAAG,GAAA,CAAA,IAAAJ,EAAAI,GAAA,CAAA,GAAAE,GAAA,kBAAAR,UAAAA,OAAA,KAAAO,GAAAC,EAAA,MAAAA,GAAAF,GAAA,EAAA,IAAAG,EAAA,MAAAA,GAAAH,GAAA,EAAA,IAAAI,GAAA,GAAAC,OAAA,uBAAAL,EAAA,IAAA,MAAAI,GAAAE,KAAA,mBAAAF,EAAA,GAAAG,GAAAV,EAAAG,IAAAQ,WAAAZ,GAAAI,GAAA,GAAAS,KAAAF,EAAAC,QAAA,SAAAb,GAAA,GAAAE,GAAAD,EAAAI,GAAA,GAAAL,EAAA,OAAAI,GAAAF,EAAAA,EAAAF,IAAAY,EAAAA,EAAAC,QAAAb,EAAAC,EAAAC,EAAAC,GAAA,MAAAD,GAAAG,GAAAQ,QAAA,IAAA,GAAAL,GAAA,kBAAAT,UAAAA,QAAAM,EAAA,EAAAA,EAAAF,EAAAY,OAAAV,IAAAD,EAAAD,EAAAE,GAAA,OAAAD,KAAAY,KAAA,SAAAjB,EAAAkB,EAAAJ,GCAA,YACAK,IAAAC,QAAAF,EAAA,0BAAA,MAGA,IAAAG,IACAC,UAAA,cAIAC,GAAA,OAEA,KAAA,GAAAd,KAAAc,GAAA,CACA,GAAAC,GAAAD,EAAAd,EACAT,GAAAwB,GAGAN,EAAAJ,QAAAO,EAEAF,GAAAM,cCEMC,cAAgB,SAAS1B,EAAQkB,EAAOJ,GCpB9C,YAMA,SAAAa,GAAAC,EAAAC,EAAAC,GAAA,MAAAD,KAAAD,GAAAG,OAAAC,eAAAJ,EAAAC,GAAAC,MAAAA,EAAAG,YAAA,EAAAC,cAAA,EAAAC,UAAA,IAAAP,EAAAC,GAAAC,EAAAF,EALAT,GAAAC,QAAAF,EAAA,0BAAA,eAGA,IAAAkB,EAIAjB,IAAAkB,OACAC,UAAAnB,GAAAoB,UAEAC,YAAAJ,KAAAT,EAAAS,EAAA,SAAA,GAAAT,EAAAS,EAAA,SAAA,GAAAT,EAAAS,EAAA,gBAAA,IAAAT,EAAAS,EAAA,MAAA,IAAAA,GAGAK,WAAA,WAEA,GAAAC,GAAAvB,GAAAwB,QAAAxB,GAAAyB,EAAAC,KAAA,UAAAA,KAAA,YAAAA,KAAA,iBACAC,EAAA3B,GAAA4B,MAAA5B,GAAA6B,WAAA7B,GAAAyB,EAAAzB,GAAA8B,kBAAA9B,GAAA8B,oBAAAJ,KAAA,QAEAK,EAAA/B,GAAAgC,KAAAhC,GAAAyB,EAAAC,KAAA,UAAAA,KAAA,WAAAC,GAEAM,EAAAjC,GAAAkC,cAAAlC,GAAAmC,SAAAnC,GAAAoC,OAAAb,EAAAQ,GAAA/B,GAAAoC,OAAAb,EAAAvB,GAAA4B,MAAAG,EAAA,MAEAL,MAAAW,KAAAC,UAAAL,IAIAM,OAAA,WACAb,KAAAJ,gBASAtB,GAAAM,cDsBMkC,eAAiB,SAAS3D,EAAQkB,EAAOJ,GE3D/C,YAIA,SAAAa,GAAAC,EAAAC,EAAAC,GAAA,MAAAD,KAAAD,GAAAG,OAAAC,eAAAJ,EAAAC,GAAAC,MAAAA,EAAAG,YAAA,EAAAC,cAAA,EAAAC,UAAA,IAAAP,EAAAC,GAAAC,EAAAF,EAHAT,GAAAC,QAAAF,EAAA,0BAAA,iBAKAC,GAAAkB,OACAC,UAAAnB,GAAAoB,UAEAC,WAAAb,KAAA,MACAiC,UAAA,KACAC,IAAA1C,GAAA2C,YAGAC,QAAA,WACA5C,GAAA6C,YAAAC,WAAApB,KAAA,QAIAa,OAAA,eAQAvC,GAAAM,cF6DMyC,UAAY,SAASlE,EAAQkB,EAAOJ,GGxF1C,YAIA,SAAAa,GAAAC,EAAAC,EAAAC,GAAA,MAAAD,KAAAD,GAAAG,OAAAC,eAAAJ,EAAAC,GAAAC,MAAAA,EAAAG,YAAA,EAAAC,cAAA,EAAAC,UAAA,IAAAP,EAAAC,GAAAC,EAAAF,EAHAT,GAAAC,QAAAF,EAAA,0BAAA,YAKAC,GAAAkB,OACAC,UAAAnB,GAAAoB,UAEAC,WAAAb,KAAA,KAAA,GAGA+B,OAAA,eAQAvC,GAAAM,cH0FM0C,MAAQ,SAASnE,EAAQkB,EAAOJ,GI9GtC,YAMA,SAAAa,GAAAC,EAAAC,EAAAC,GAAA,MAAAD,KAAAD,GAAAG,OAAAC,eAAAJ,EAAAC,GAAAC,MAAAA,EAAAG,YAAA,EAAAC,cAAA,EAAAC,UAAA,IAAAP,EAAAC,GAAAC,EAAAF,EALAT,GAAAC,QAAAF,EAAA,0BAAA,OAGA,IAAAkB,EAIAjB,IAAAkB,OACAC,UAAAnB,GAAAoB,UAEAC,YAAAJ,KAAAT,EAAAS,EAAA,KAAA,GAAAT,EAAAS,EAAA,QACAwB,UAAA,KACAC,IAAA1C,GAAA2C,YACAnC,EAAAS,EAAA,UAAA,GAAAA,GAGAsB,OAAA,WACA1D,EAAA,OAEA6C,KAAA,WACA1B,GAAA6C,YAAAC,WAAApB,KAAA,SAAA,MAUA1B,GAAAM,WJgHGR,IAAM,QAAQmD,cAAgB,SAASpE,EAAQkB,EAAOJ,GK/IzD,YAMA,SAAAa,GAAAC,EAAAC,EAAAC,GAAA,MAAAD,KAAAD,GAAAG,OAAAC,eAAAJ,EAAAC,GAAAC,MAAAA,EAAAG,YAAA,EAAAC,cAAA,EAAAC,UAAA,IAAAP,EAAAC,GAAAC,EAAAF,EALAT,GAAAC,QAAAF,EAAA,0BAAA,eAGA,IAAAkB,EAIAjB,IAAAkB,OACAC,UAAAnB,GAAAoB,UAEAC,YAAAJ,KAAAT,EAAAS,EAAA,mBAAA,GAAAT,EAAAS,EAAA,eAAA,GAAAT,EAAAS,EAAA,eAAA,GAAAT,EAAAS,EAAA,YACAwB,UAAA,KACAS,KAAAlD,GAAAmD,cACA3C,EAAAS,EAAA,QACAwB,UAAA,KACAS,KAAAlD,GAAAmD,cACA3C,EAAAS,EAAA,gBACAwB,UAAA,KACAC,IAAA1C,GAAA2C,YACA1B,GAGAmC,QAAA,SAAAC,GAcA,IAAA,GAXAC,KAEA,EAAA,EAAA,EAAA,EAAA,IAAA,EAAA,EAAA,EAAA,EAAA,EAAA,KAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,KAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,KAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,KAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,KAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,KAAA,GAAA,GAAA,GAAA,GAAA,GAAA,KAAA,GAAA,GAAA,GAAA,GAAA,KAGA,GAAA,GAAA,GAAA,GAAA,KAAA,GAAA,GAAA,GAAA,GAAA,GAAA,KAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,KAAA,EAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,KAAA,EAAA,EAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,KAAA,EAAA,EAAA,GAAA,GAAA,GAAA,GAAA,GAAA,KAAA,EAAA,EAAA,GAAA,GAAA,GAAA,GAAA,KAAA,EAAA,EAAA,GAAA,GAAA,GAAA,KAAA,EAAA,GAAA,GAAA,GAAA,KAGA,EAAA,EAAA,GAAA,GAAA,KAAA,EAAA,EAAA,GAAA,GAAA,GAAA,KAAA,EAAA,EAAA,GAAA,GAAA,GAAA,GAAA,KAAA,EAAA,EAAA,GAAA,GAAA,GAAA,GAAA,GAAA,KAAA,EAAA,EAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,KAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,KAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,KAAA,GAAA,GAAA,GAAA,GAAA,GAAA,KAAA,GAAA,GAAA,GAAA,GAAA,KAEAC,KACAjE,EAAA,EAAAA,EAAAoC,KAAA8B,UAAA3D,OAAAP,IACAoC,KAAA8B,UAAAlE,GAAAmE,UAEAF,EAAAG,KAAAhC,KAAA8B,UAAAlE,GAAAqE,QAIAJ,GAAAK,KAAA,SAAAvE,EAAAwE,GACA,MAAAxE,GAAAwE,GAMA,KAAA,GADAC,MACAxE,EAAA,EAAAA,EAAAgE,EAAAzD,OAAAP,IAAA,CACA,GAAAyE,GAAAT,EAAAhE,GACA0E,EAAAtC,KAAAuC,iBAAAV,EAAAQ,EAEA,IAAAC,EAAAnE,OAAA,EAAA,CAIA,GAAAqE,GAAAxC,KAAAyC,iBAAAJ,EAAAC,EAGAE,KAEAlE,GAAAoE,IAAA,OACAN,EAAAJ,KAAAK,GAEA/D,GAAA6C,YAAAC,WAAApB,KAAA2C,gBAQA,IAAA,GADAC,GAAA,EACAhF,EAAA,EAAAA,EAAAwE,EAAAjE,OAAAP,IAGA,IAAA,GADAiF,GAAAT,EAAAxE,GACAkF,EAAA,EAAAA,EAAAD,EAAA1E,OAAA2E,IAAA,CACA,GAAAC,GAAAF,EAAAC,GAEAE,EAAAhD,KAAA8B,UAAAiB,GAAAE,eAAA,WACAD,GAAAE,UAEAlD,KAAA8B,UAAAiB,GAAAhB,SAAA,KAEAa,IAIA5C,KAAAmD,SAAAP,IAIAO,SAAA,SAAAC,GACA,GAAAC,GAAA,GAAAD,EAAAA,EACAzC,EAAArC,GAAAgF,KAAA,2BACAC,EAAA5C,EAAA6C,aAAAlF,GAAAmF,MAEAF,GAAAG,OAAAL,EAAAM,OAAAJ,EAAAG,SAIAnB,iBAAA,SAAAqB,EAAAC,GAEA,IAAA,GADAvB,MACA1E,EAAA,EAAAA,EAAAgG,EAAAzF,OAAAP,IACA,IAAA,GAAAkF,GAAA,EAAAA,EAAAe,EAAA1F,OAAA2E,IACAe,EAAAf,IAAAc,EAAAhG,IACA0E,EAAAN,KAAA6B,EAAAf,GAKA,OAAAR,IAIAG,iBAAA,SAAAmB,EAAAC,GACA,IAAA,GAAAjG,GAAA,EAAAA,EAAAgG,EAAAzF,OAAAP,IACA,GAAAiG,EAAAjG,IAAAgG,EAAAhG,GACA,OAAA,CAIA,QAAA,GAIAiD,OAAA,WAwEA,IAAA,GAvEAiD,GAAAxF,GAAAyB,EAAAC,KAAAW,KAAAoD,EAAA/D,KAAAW,KAAAqD,GAMAC,GAHA,EAAAjE,KAAA,iBAAA,IAMA4C,MAAA,EACAkB,OAAAxF,GAAAyB,EAAA,EAAA,KAKA6C,MAAA,EACAkB,OAAAxF,GAAAyB,EAAA,EAAAC,KAAA,aAAA,KAKA4C,MAAA,EACAkB,OAAAxF,GAAAyB,EAAA,EAAAC,KAAA,aAAA,EAAA,KAKA4C,MAAA,EACAkB,OAAAxF,GAAAyB,EAAA,EAAAC,KAAA,aAAA,EAAA,KAKA4C,MAAA,EACAkB,OAAAxF,GAAAyB,EAAA,EAAAC,KAAA,aAAA,EAAA,KAKA4C,MAAA,EACAkB,OAAAxF,GAAAyB,EAAA,EAAAC,KAAA,aAAA,EAAAA,KAAA,aAAA,GAAAA,KAAA,aAAA,KAKA4C,MAAA,EACAkB,OAAAxF,GAAAyB,EAAA,EAAAC,KAAA,aAAA,EAAA,EAAAA,KAAA,aAAA,GAAAA,KAAA,aAAA,EAAA,KAKA4C,MAAA,EACAkB,OAAAxF,GAAAyB,EAAA,EAAAC,KAAA,aAAA,EAAA,EAAAA,KAAA,aAAA,GAAAA,KAAA,aAAA,EAAA,KAKA4C,MAAA,EACAkB,OAAAxF,GAAAyB,EAAA,EAAAC,KAAA,aAAA,EAAA,EAAAA,KAAA,aAAA,GAAAA,KAAA,aAAA,EAAA,MAIAkE,EAAA5F,GAAA4B,MAAA5B,GAAA6F,UAAA,KAAA,EAAAC,KAAAC,GAAA,MAAA,EAAArE,KAAA,cAGAsE,EAAAhG,GAAA4B,MAAA5B,GAAA6F,UAAA,KAAA,EAAAC,KAAAC,GAAA,MAAA,EAAArE,KAAA,aAAA,GAEA8B,KAEAyC,KAEA3G,EAAA,EAAAA,EAAAqG,EAAA9F,OAAAP,IAKA,IAAA,GAJAgF,GAAAqB,EAAArG,GAAAgF,MACA4B,EAAAlG,GAAAgC,KAAA2D,EAAArG,GAAAkG,OAAAQ,GACAG,EAAAnG,GAAAgC,KAAAwD,EAAAU,GAEA1B,EAAA,EAAAF,EAAAE,EAAAA,IAAA,CACA,GAAA4B,GAAApG,GAAAgC,KAAAmE,EAAAnG,GAAA4B,MAAAgE,EAAApB,GACAyB,GAAAvC,KAAA0C,GAKA,IAAA,GAAAC,GAAA,EAAAA,EAAAJ,EAAApG,OAAAwG,IAAA,CACA,GAAAhE,GAAA,GAAArC,IAAAsG,KAAA,SACAC,EAAAlE,EAAAmE,aAAAxG,GAAAyG,OACAF,GAAAG,YAAAhF,KAAA,SAEAW,EAAAoD,EAAAQ,EAAAI,GAAAZ,EACApD,EAAAqD,EAAAO,EAAAI,GAAAX,EAUArD,EAAAsE,OAAAjF,KAAAW,KAEAA,EAAAsB,QAAA0C,CAGA,IAAAO,GAAA,GAAA5G,IAAAsG,KAAA,WACAO,EAAAD,EAAAJ,aAAAxG,GAAAyG,OACAI,GAAAH,YAAAhF,KAAA,KACAkF,EAAAE,QAAA,EACAF,EAAAD,OAAAtE,EAEAmB,EAAAE,KAAArB,GAGAX,KAAA8B,UAAAA,EACA9B,KAAAiE,QAAAA,EAGAjE,KAAAW,KAAA0E,GAAA,kBAAArF,KAAA0B,QAAA1B,SAkBA1B,GAAAM,cLiJM0G,YAAc,SAASnI,EAAQkB,EAAOJ,GMzZ5C,YAMA,SAAAa,GAAAC,EAAAC,EAAAC,GAAA,MAAAD,KAAAD,GAAAG,OAAAC,eAAAJ,EAAAC,GAAAC,MAAAA,EAAAG,YAAA,EAAAC,cAAA,EAAAC,UAAA,IAAAP,EAAAC,GAAAC,EAAAF,EALAT,GAAAC,QAAAF,EAAA,0BAAA,aAGA,IAAAkB,GAIAgC,EAAApE,EAAA,gBACAoI,EAAApI,EAAA,OAEAmB,IAAAkB,OACAC,UAAAnB,GAAAoB,UAEAC,YAAAJ,GACAiG,cACAzE,UAAA,KACAS,KAAAD,IAGAzC,EAAAS,EAAA,SAAA,GAAAT,EAAAS,EAAA,eAAA,GAAAT,EAAAS,EAAA,eAAA,GAAAT,EAAAS,EAAA,WACAwB,UAAA,KACAS,KAAAlD,GAAAmD,cACA3C,EAAAS,EAAA,UACAwB,UAAA,KACAS,KAAAlD,GAAAmD,cACA3C,EAAAS,EAAA,UACAwB,UAAA,KACAS,KAAAlD,GAAAmD,cACA3C,EAAAS,EAAA,UACAwB,UAAA,KACAS,KAAAlD,GAAAmD,cACA3C,EAAAS,EAAA,UACAwB,UAAA,KACAS,KAAAlD,GAAAmD,cACA3C,EAAAS,EAAA,WACAwB,UAAA,KACAC,IAAA1C,GAAA2C,YACAnC,EAAAS,EAAA,iBACAwB,UAAA,KACAC,IAAA1C,GAAA2C,YACAnC,EAAAS,EAAA,iBACAwB,UAAA,KACAC,IAAA1C,GAAA2C,YACAnC,EAAAS,EAAA,iBACAwB,UAAA,KACAC,IAAA1C,GAAA2C,YACAnC,EAAAS,EAAA,gBACAwB,UAAA,KACAC,IAAA1C,GAAA2C,YACAnC,EAAAS,EAAA,gBACAwB,UAAA,KACAC,IAAA1C,GAAA2C,YACA1B,GAEAkG,aAAA,WAEA,GAAA9H,GAAAqC,KAAA,aACA0F,EAAA1F,KAAA,aAEA2F,KAAArH,GAAAyB,EAAA,EAAA,OACAzB,GAAAyB,GAAA2F,EAAA,GAAApH,GAAAyB,EAAA2F,EAAA,KACApH,GAAAyB,GAAA2F,EAAA,IAAA/H,GAAAW,GAAAyB,EAAA,EAAApC,KACAW,GAAAyB,GAAA2F,EAAA,GAAA/H,GAAAW,GAAAyB,EAAA,GAAApC,OAEAW,GAAAyB,EAAA,GAAA2F,EAAA,GAAApH,GAAAyB,EAAA,EAAA,GAAAzB,GAAAyB,EAAA,EAAA2F,EAAA,KAEApH,GAAAyB,EAAA,GAAA2F,EAAA,GAAApH,GAAAyB,EAAA,EAAA,GAAAzB,GAAAyB,EAAA2F,EAAA,KAAA/H,KACAW,GAAAyB,EAAA,GAAA2F,EAAA,GAAApH,GAAAyB,EAAA,EAAA,GAAAzB,GAAAyB,EAAA2F,EAAA,IAAA/H,KACAW,GAAAyB,GAAA2F,EAAA,KAAA/H,GAAAW,GAAAyB,EAAA,EAAA,GAAAzB,GAAAyB,EAAA,EAAA2F,EAAA,KACApH,GAAAyB,GAAA2F,EAAA,IAAA/H,GAAAW,GAAAyB,EAAA,EAAA,GAAAzB,GAAAyB,EAAA,EAAA2F,EAAA,KAEApH,GAAAyB,GAAA2F,EAAA,KAAA/H,GAAAW,GAAAyB,EAAA,EAAA,GAAAzB,GAAAyB,EAAA2F,EAAA,IAAA/H,KACAW,GAAAyB,GAAA2F,EAAA,IAAA/H,GAAAW,GAAAyB,EAAA,EAAA,GAAAzB,GAAAyB,EAAA2F,EAAA,KAAA/H,KAEAW,GAAAyB,GAAA2F,EAAA,IAAA/H,GAAAW,GAAAyB,EAAA,EAAA,GAAAzB,GAAAyB,GAAA2F,EAAA,KAAA/H,KACAW,GAAAyB,EAAA2F,EAAA,IAAA/H,GAAAW,GAAAyB,EAAA,EAAA,GAAAzB,GAAAyB,EAAA2F,EAAA,KAAA/H,KAEAW,GAAAyB,EAAA,EAAApC,GAAAW,GAAAyB,GAAA2F,EAAA,IAAA/H,GAAAW,GAAAyB,EAAA2F,EAAA,IAAA/H,OAGAW,GAAAyB,EAAA,GAAA2F,EAAA,GAAApH,GAAAyB,GAAA2F,EAAA,GAAApH,GAAAyB,EAAA2F,EAAA,GAAApH,GAAAyB,EAAA,EAAA2F,EAAA,KACApH,GAAAyB,EAAA,GAAA2F,EAAA,GAAApH,GAAAyB,GAAA2F,EAAA,GAAApH,GAAAyB,EAAA2F,EAAA,GAAApH,GAAAyB,EAAA,EAAA2F,EAAA,IAAA/H,KACAW,GAAAyB,EAAA,GAAA2F,EAAA,GAAApH,GAAAyB,GAAA2F,EAAA,GAAApH,GAAAyB,EAAA2F,EAAA,GAAApH,GAAAyB,EAAA,EAAA2F,EAAA,KAAA/H,KACAW,GAAAyB,EAAA,GAAA2F,EAAA,IAAA/H,GAAAW,GAAAyB,GAAA2F,EAAA,GAAApH,GAAAyB,EAAA2F,EAAA,GAAApH,GAAAyB,EAAA,EAAA2F,EAAA,KACApH,GAAAyB,EAAA,GAAA2F,EAAA,KAAA/H,GAAAW,GAAAyB,GAAA2F,EAAA,GAAApH,GAAAyB,EAAA2F,EAAA,GAAApH,GAAAyB,EAAA,EAAA2F,EAAA,KAEApH,GAAAyB,EAAA,GAAA2F,EAAA,GAAApH,GAAAyB,EAAA,EAAA,GAAAzB,GAAAyB,EAAA,EAAA2F,EAAA,GAAApH,GAAAyB,EAAA2F,EAAA,IAAA/H,KACAW,GAAAyB,EAAA,GAAA2F,EAAA,GAAApH,GAAAyB,EAAA,EAAA,GAAAzB,GAAAyB,EAAA,EAAA2F,EAAA,GAAApH,GAAAyB,EAAA2F,EAAA,KAAA/H,KACAW,GAAAyB,EAAA,GAAA2F,EAAA,GAAApH,GAAAyB,EAAA,EAAA,GAAAzB,GAAAyB,EAAA,EAAA2F,EAAA,GAAApH,GAAAyB,GAAA2F,EAAA,IAAA/H,KACAW,GAAAyB,EAAA,GAAA2F,EAAA,GAAApH,GAAAyB,EAAA,EAAA,GAAAzB,GAAAyB,EAAA,EAAA2F,EAAA,GAAApH,GAAAyB,GAAA2F,EAAA,KAAA/H,KAEAW,GAAAyB,EAAA,GAAA2F,EAAA,GAAApH,GAAAyB,EAAA,EAAA,GAAAzB,GAAAyB,EAAA2F,EAAA,KAAA/H,GAAAW,GAAAyB,EAAA2F,EAAA,IAAA/H,KACAW,GAAAyB,EAAA,GAAA2F,EAAA,GAAApH,GAAAyB,EAAA,EAAA,GAAAzB,GAAAyB,EAAA2F,EAAA,KAAA/H,GAAAW,GAAAyB,GAAA2F,EAAA,KAAA/H,KACAW,GAAAyB,EAAA,GAAA2F,EAAA,GAAApH,GAAAyB,EAAA,EAAA,GAAAzB,GAAAyB,EAAA2F,EAAA,KAAA/H,GAAAW,GAAAyB,GAAA2F,EAAA,IAAA/H,KACAW,GAAAyB,EAAA,GAAA2F,EAAA,GAAApH,GAAAyB,EAAA,EAAA,GAAAzB,GAAAyB,EAAA2F,EAAA,KAAA/H,GAAAW,GAAAyB,EAAA,GAAA2F,EAAA,IAAA/H,KACAW,GAAAyB,EAAA,GAAA2F,EAAA,GAAApH,GAAAyB,EAAA,EAAA,GAAAzB,GAAAyB,EAAA2F,EAAA,KAAA/H,GAAAW,GAAAyB,EAAA,GAAA2F,EAAA,KAAA/H,KACAW,GAAAyB,EAAA,GAAA2F,EAAA,GAAApH,GAAAyB,EAAA,EAAA,GAAAzB,GAAAyB,EAAA2F,EAAA,KAAA/H,GAAAW,GAAAyB,EAAA,EAAA2F,EAAA,KAAA/H,KACAW,GAAAyB,EAAA,GAAA2F,EAAA,GAAApH,GAAAyB,EAAA,EAAA,GAAAzB,GAAAyB,EAAA2F,EAAA,KAAA/H,GAAAW,GAAAyB,EAAA,EAAA2F,EAAA,GAAA/H,KAKA,OAAAgI,IAGAC,QAAA,SAAAC,GAEA,GAAAlF,GAAA,GAAArC,IAAAsG,KAAA,YACAC,EAAAlE,EAAAmE,aAAAxG,GAAAyG,OACAF,GAAAG,YAAAhF,KAAA,QAAA6F,EAKA,IAAAC,GAAA,GAAAxH,IAAAsG,KAAA,YACAmB,EAAAD,EAAAhB,aAAAxG,GAAAyG,OAKA,OAJAgB,GAAAf,YAAAhF,KAAA,QAEA8F,EAAAb,OAAAtE,EAEAA,GAGAqF,WAAA,WACA,GAAAC,GAAA,GAAA3H,IAAAsG,KAAA,QAEAsB,EAAAlG,KAAAyF,eAMAd,EAAAxH,EAAA,QAAAgJ,OAAA,EAAA,GACAC,EAAAF,EAAAvB,EAGAA,GAAAxH,EAAA,QAAAgJ,OAAA,EAAAC,EAAAjI,OAAA,EAIA,KAAA,GAHA8F,GAAAmC,EAAAzB,GAEA0B,EAAAlJ,EAAA,QAAAgJ,OAAA,EAAA,GACAxB,EAAA,EAAAA,EAAAV,EAAA9F,OAAAwG,IAAA,CACA,GAAA2B,GAAArC,EAAAU,GACA4B,EAAAvG,KAAA4F,QAAAS,EACAE,GAAAxC,EAAAuC,EAAAvC,EACAwC,EAAAvC,EAAAsC,EAAAtC,EACAiC,EAAAO,SAAAD,GAGA,MAAAN,IAIAQ,cAAA,WACA,GAAAC,GAAA,IACAC,EAAA3G,IAEAA,MAAAW,KAAAiG,GAAA5G,KAAAW,KAAAoD,EACA/D,KAAAW,KAAAkG,GAAA7G,KAAAW,KAAAqD,EAEAhE,KAAAW,KAAA0E,GAAA/G,GAAAsG,KAAAkC,UAAAC,YAAA,WACA/G,KAAAgE,GAAA0C,EAGApI,GAAA6C,YAAAC,WAAAuF,EAAAK,UACAhH,KAAAW,MACAX,KAAAW,KAAA0E,GAAA/G,GAAAsG,KAAAkC,UAAAG,WAAA,SAAAC,GAEA,GAAAC,GAAAD,EAAAE,MAAAC,UACArH,MAAA+D,GAAAoD,EAAApD,EACA/D,KAAAgE,GAAAmD,EAAAnD,EAEA2C,EAAAW,cAAAhJ,GAAAyB,EAAAC,KAAA+D,EAAA/D,KAAAgE,IAGA2C,EAAAY,iBAGAZ,EAAAa,kBAFAb,EAAAa,iBAAA,IAIAxH,KAAAW,MAEAX,KAAAW,KAAA0E,GAAA/G,GAAAsG,KAAAkC,UAAAW,aAAA,SAAAP,GACAlH,KAAA0H,gBACA1H,MACAA,KAAAW,KAAA0E,GAAA/G,GAAAsG,KAAAkC,UAAAa,UAAA,SAAAT,GACAlH,KAAA0H,gBACA1H,OAIAwH,gBAAA,SAAAI,GAGA,IAAA,GAAAhK,GAAA,EAAAA,EAAAoC,KAAAwF,aAAA1D,UAAA3D,OAAAP,IAAA,CAEA,GAAAiK,GAAA7H,KAAAwF,aAAA1D,UAAAlE,GAAAqF,eAAA,UACA4E,GAAAzC,QAAA,EAIA,IAAAwC,EAIA,IAAA,GAAAhK,GAAA,EAAAA,EAAAoC,KAAA8H,eAAA3J,OAAAP,IAAA,CAEA,GAAAiK,GAAA7H,KAAA8H,eAAAlK,GAAAqF,eAAA,UACA4E,GAAAzC,QAAA,IAKAkC,cAAA,SAAAJ,GAKAlH,KAAA8H,kBACA9H,KAAA+H,cAIA,KAAA,GAFAC,GAAAhI,KAAAW,KAAAqH,SAAA,GAAAA,SAEApK,EAAA,EAAAA,EAAAoK,EAAA7J,OAAAP,IAAA,CAEA,GAAAqK,GAAA3J,GAAAgC,KAAAN,KAAAW,KAAAuH,SAAA5J,GAAAyB,EAAAiI,EAAApK,GAAAmG,EAAAiE,EAAApK,GAAAoG,IACAmE,EAAAnI,KAAAoI,aAAAH,EAEAE,KACAnI,KAAA+H,YAAA/F,KAAAgG,EAAApK,IACAoC,KAAA8H,eAAA9F,KAAAmG,MAMAC,aAAA,SAAA9B,GAGA,IAAA,GAFA+B,GAAA,GAEAzK,EAAA,EAAAA,EAAAoC,KAAAwF,aAAA1D,UAAA3D,OAAAP,IAAA,CACA,GAAA0K,GAAAtI,KAAAwF,aAAA1D,UAAAlE,GACA2K,EAAAjK,GAAAkK,UAAAlK,GAAAyB,EAAAuI,EAAAvE,EAAAuE,EAAAtE,GAAAsC,EACA,IAAA+B,GAAAE,EACA,MAAAD,KAMAG,YAAA,aAKAlB,eAAA,WAEA,GAAA,GAAAvH,KAAA8H,eAAA3J,QAAA6B,KAAA8H,eAAA3J,QAAA6B,KAAAW,KAAAqH,SAAA,GAAAA,SAAA7J,OACA,OAAA,CAIA,KAAA,GAAAP,GAAA,EAAAA,EAAAoC,KAAA8H,eAAA3J,OAAAP,IACA,GAAAoC,KAAA8H,eAAAlK,GAAAmE,SACA,OAAA,CAIA,QAAA,GAIA2F,aAAA,WAEA,IAAA1H,KAAAuH,iBAKA,MAHAvH,MAAA0I,eAEApK,IAAA6C,YAAAC,WAAApB,KAAA2I,aAIA,KAAA,GAAA/K,GAAA,EAAAA,EAAAoC,KAAA+H,YAAA5J,OAAAP,IAAA,CACAoC,KAAA+H,YAAAnK,GAAAmG,EAAA,EACA/D,KAAA+H,YAAAnK,GAAAoG,EAAA,EAEAhE,KAAA+H,YAAAnK,GAAAqH,OAAAjF,KAAA8H,eAAAlK,GACAoC,KAAA8H,eAAAlK,GAAAmE,UAAA,CAIA,IAAAmD,GAAA,GAAA5G,IAAAsG,KAAA,gBACAO,EAAAD,EAAAJ,aAAAxG,GAAAyG,OACAI,GAAAH,YAAAhF,KAAAwF,aAAA,KACAxF,KAAA8H,eAAAlK,GAAA4I,SAAAtB,EAAA,GACA,IAAA3E,GAAAjC,GAAAkC,cAAAlC,GAAAmC,SAAAnC,GAAAsK,MAAAtK,GAAAuK,QAAA,GAAAvK,GAAAwK,QAAA,EAAA,MAAAxK,GAAAyK,cACA7D,GAAAtE,UAAAL,GAGAP,KAAAW,KAAAqI,mBACA,IAAAC,GAAAjJ,KAAAgG,YACAhG,MAAAW,KAAA6F,SAAAyC,GAEAjJ,KAAAwF,aAAA7E,KAAAuI,KAAA,kBAEA,IAAAC,GAAA5D,EAAAY,OAAA,EAAA,EACA7H,IAAA6C,YAAAC,WAAApB,KAAA,eAAAmJ,IAGAnJ,KAAA0I,YAIAA,SAAA,WAEA1I,KAAA8H,kBACA9H,KAAAwH,kBAEAxH,KAAAW,KAAAoD,EAAA/D,KAAAW,KAAAiG,GACA5G,KAAAW,KAAAqD,EAAAhE,KAAAW,KAAAkG,IAIAhG,OAAA,WACAb,KAAA8H,kBACA9H,KAAA+H,cAEA,IAAAkB,GAAAjJ,KAAAgG,YACAhG,MAAAW,KAAA6F,SAAAyC,GAGAjJ,KAAAyG,mBAmBAnI,GAAAM,WN2ZG2C,aAAe,eAAegE,KAAO,SAAS6D,YAAc,SAASjM,EAAQkB,EAAOJ,GOxvBvF,YACAK,IAAAC,QAAAF,EAAA,0BAAA,cAGAC,GAAAkB,OACAC,UAAAnB,GAAAoB,UAEAC,cAaAkB,OAAA,eAQAvC,GAAAM,cP0vBMyK,YAAc,SAASlM,EAAQkB,EAAOJ,GQtxB5C,YAIA,SAAAa,GAAAC,EAAAC,EAAAC,GAAA,MAAAD,KAAAD,GAAAG,OAAAC,eAAAJ,EAAAC,GAAAC,MAAAA,EAAAG,YAAA,EAAAC,cAAA,EAAAC,UAAA,IAAAP,EAAAC,GAAAC,EAAAF,EAHAT,GAAAC,QAAAF,EAAA,0BAAA,cAKAC,GAAAkB,OACAC,UAAAnB,GAAAoB,UAEAC,WAAAb,KAAA,QACAiC,UAAA,KACAS,KAAAlD,GAAAgL,SAGApI,QAAA,WACA,GACAX,IADAP,KAAAW,KAAAsE,OACA3G,GAAAmC,SAAAnC,GAAAwK,QAAA,GAAA,GAAAxK,GAAAiL,SAAA,WACAjL,GAAAoE,IAAA,QAEApE,GAAAkL,SAAAC,UAAA,aAmBAzJ,KAAAW,KAAAuC,WACAlD,QAEA0J,EAAA1J,KAAAwD,aAAAlF,GAAAqL,UACAD,GAAAE,OAEA5J,KAAAW,KAAAC,UAAAL,IAIAM,OAAA,eAQAvC,GAAAM,cRwxBM2G,MAAQ,SAASpI,EAAQkB,EAAOJ,GSh1BtC,YACAK,IAAAC,QAAAF,EAAA,0BAAA,OAMA,IAAAwL,IAGAC,SAAA,SAAA/K,GAEA,GAAAgL,GAAA,EAEA,KAAA,GAAAhK,KAAAhB,GAGAgL,GADA,oBAAAhL,GAAAgB,GACAA,EAAA,OAGAA,EAAA,MAIAzB,IAAAoE,IAAAqH,IAIA5D,OAAA,SAAA6D,EAAAC,GAEA,MAAA7F,MAAA8F,MAAA9F,KAAA+B,UAAA8D,EAAAD,EAAA,GAAAA,IAIA3L,GAAAJ,QAAA4L,EAEAvL,GAAAM,mBTk1BW,OAAO,eAAe,OAAO,eAAe,aAAa,aAAa,WAAW,aAAa,MAAM","file":"project.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","\"use strict\";\ncc._RFpush(module, 'bc9772ZVeVM2omwSvP+kAar', 'App');\n// script\\gameCore\\App.js\n\nvar app = {\n    startGame: function startGame() {}\n};\n\n//加载模块(有顺序)\nvar modPath = ['Util'];\n\nfor (var i in modPath) {\n    var path = modPath[i];\n    require(path);\n}\n\nmodule.exports = app;\n\ncc._RFpop();","require=(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({\"App\":[function(require,module,exports){\n\"use strict\";\ncc._RFpush(module, 'bc9772ZVeVM2omwSvP+kAar', 'App');\n// script\\gameCore\\App.js\n\nvar app = {\n    startGame: function startGame() {}\n};\n\n//加载模块(有顺序)\nvar modPath = ['Util'];\n\nfor (var i in modPath) {\n    var path = modPath[i];\n    require(path);\n}\n\nmodule.exports = app;\n\ncc._RFpop();\n},{}],\"BgRandomMove\":[function(require,module,exports){\n\"use strict\";\ncc._RFpush(module, '2efffJ1hlRMy6NEHp7IMcJi', 'BgRandomMove');\n// script\\BgRandomMove.js\n\nvar _properties;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\ncc.Class({\n    \"extends\": cc.Component,\n\n    properties: (_properties = {}, _defineProperty(_properties, \"X轴移动距离\", 1), _defineProperty(_properties, \"y轴移动距离\", 1), _defineProperty(_properties, \"移动速度(单位：像素/秒)\", 20), _defineProperty(_properties, \"随机量\", 10), _properties),\n\n    //随机移动\n    randomMove: function randomMove() {\n\n        var dt = cc.pLength(cc.p(this[\"X轴移动距离\"], this[\"y轴移动距离\"])) / this[\"移动速度(单位：像素/秒)\"];\n        var randomDir = cc.pMult(cc.pNormalize(cc.p(cc.randomMinus1To1(), cc.randomMinus1To1())), this[\"随机量\"]);\n\n        var moveDir = cc.pAdd(cc.p(this[\"X轴移动距离\"], this[\"y轴移动距离\"]), randomDir);\n\n        var action = cc.repeatForever(cc.sequence(cc.moveBy(dt, moveDir), cc.moveBy(dt, cc.pMult(moveDir, -1))));\n\n        this.node.runAction(action);\n    },\n\n    // use this for initialization\n    onLoad: function onLoad() {\n        this.randomMove();\n    }\n\n});\n// called every frame, uncomment this function to activate update callback\n// update: function (dt) {\n\n// },\n\ncc._RFpop();\n},{}],\"ButtonControl\":[function(require,module,exports){\n\"use strict\";\ncc._RFpush(module, 'c2d5bVI67ZPAq8U5jXlmGwC', 'ButtonControl');\n// script\\gameCore\\common\\ButtonControl.js\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\ncc.Class({\n    \"extends\": cc.Component,\n\n    properties: _defineProperty({}, \"音效\", {\n        \"default\": null,\n        url: cc.AudioClip\n    }),\n\n    onClick: function onClick() {\n        cc.audioEngine.playEffect(this[\"音效\"]);\n    },\n\n    // use this for initialization\n    onLoad: function onLoad() {}\n\n});\n// called every frame, uncomment this function to activate update callback\n// update: function (dt) {\n\n// },\n\ncc._RFpop();\n},{}],\"GameData\":[function(require,module,exports){\n\"use strict\";\ncc._RFpush(module, 'f90693GTmlGS7T5fknnDNTy', 'GameData');\n// script\\GameData.js\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\ncc.Class({\n    \"extends\": cc.Component,\n\n    properties: _defineProperty({}, \"分数\", 0),\n\n    // use this for initialization\n    onLoad: function onLoad() {}\n\n});\n// called every frame, uncomment this function to activate update callback\n// update: function (dt) {\n\n// },\n\ncc._RFpop();\n},{}],\"Game\":[function(require,module,exports){\n\"use strict\";\ncc._RFpush(module, '701b9htTn1PFIOruA6mnooK', 'Game');\n// script\\Game.js\n\nvar _properties;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\ncc.Class({\n    \"extends\": cc.Component,\n\n    properties: (_properties = {}, _defineProperty(_properties, \"分数\", 0), _defineProperty(_properties, \"背景音乐\", {\n        \"default\": null,\n        url: cc.AudioClip\n    }), _defineProperty(_properties, \"是否开启音乐\", true), _properties),\n\n    // use this for initialization\n    onLoad: function onLoad() {\n        require('App');\n\n        if (this[\"是否开启音乐\"]) {\n            cc.audioEngine.playEffect(this[\"背景音乐\"], true);\n        }\n    }\n\n});\n// called every frame, uncomment this function to activate update callback\n// update: function (dt) {\n\n// },\n\ncc._RFpop();\n},{\"App\":\"App\"}],\"InitLBXFrame\":[function(require,module,exports){\n\"use strict\";\ncc._RFpush(module, '73810un/L9B+7ptubQfLvHy', 'InitLBXFrame');\n// script\\gameCore\\InitLBXFrame.js\n\nvar _properties;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\ncc.Class({\n    \"extends\": cc.Component,\n\n    properties: (_properties = {}, _defineProperty(_properties, \"bianchanggezishu\", 5), _defineProperty(_properties, \"liubianxingH\", 0), _defineProperty(_properties, \"liubianxingA\", 0), _defineProperty(_properties, \"framePic\", {\n        \"default\": null,\n        type: cc.SpriteFrame\n    }), _defineProperty(_properties, \"bian\", {\n        \"default\": null,\n        type: cc.SpriteFrame\n    }), _defineProperty(_properties, \"xiaochuSound\", {\n        \"default\": null,\n        url: cc.AudioClip\n    }), _properties),\n\n    //检测消除\n    checkXC: function checkXC(argument) {\n        //cc.log(\"成功放下，检测是否需要消除\")\n\n        var disList = [\n        //一个方向\n        [0, 1, 2, 3, 4], [5, 6, 7, 8, 9, 10], [11, 12, 13, 14, 15, 16, 17], [18, 19, 20, 21, 22, 23, 24, 25], [26, 27, 28, 29, 30, 31, 32, 33, 34], [35, 36, 37, 38, 39, 40, 41, 42], [43, 44, 45, 46, 47, 48, 49], [50, 51, 52, 53, 54, 55], [56, 57, 58, 59, 60],\n\n        //另一个方向\n        [26, 35, 43, 50, 56], [18, 27, 36, 44, 51, 57], [11, 19, 28, 37, 45, 52, 58], [5, 12, 20, 29, 38, 46, 53, 59], [0, 6, 13, 21, 30, 39, 47, 54, 60], [1, 7, 14, 22, 31, 40, 48, 55], [2, 8, 15, 23, 32, 41, 49], [3, 9, 16, 24, 33, 42], [4, 10, 17, 25, 34],\n\n        //横向\n        [0, 5, 11, 18, 26], [1, 6, 12, 19, 27, 35], [2, 7, 13, 20, 28, 36, 43], [3, 8, 14, 21, 29, 37, 44, 50], [4, 9, 15, 22, 30, 38, 45, 51, 56], [10, 16, 23, 31, 39, 46, 52, 57], [17, 24, 32, 40, 47, 53, 58], [25, 33, 41, 48, 54, 59], [34, 42, 49, 55, 60]];\n\n        var haveFKIndexList = [];\n        for (var i = 0; i < this.frameList.length; i++) {\n            if (this.frameList[i].isHaveFK) {\n                //cc.log(this.frameList[i].FKIndex)\n                haveFKIndexList.push(this.frameList[i].FKIndex);\n            }\n        }\n\n        haveFKIndexList.sort(function (a, b) {\n            return a - b;\n        });\n\n        //cc.log(\"haveFKIndexList：\", haveFKIndexList.toString())\n\n        var xcList = [];\n        for (var i = 0; i < disList.length; i++) {\n            var oneXCList = disList[i];\n            var intersectAry = this.get2AryIntersect(haveFKIndexList, oneXCList);\n\n            if (intersectAry.length > 0) {\n                //cc.log(\"intersectAry:\", intersectAry.toString())\n                //cc.log(\"oneXCList:\", oneXCList.toString())\n\n                var isXC = this.check2AryIsEqual(oneXCList, intersectAry);\n\n                //cc.log(\"intersectAry 和 oneXCList是否相等：\", isXC)\n                if (isXC) {\n                    //cc.log(\"消！！\", oneXCList.toString())\n                    cc.log(\"消！！\");\n                    xcList.push(oneXCList);\n\n                    cc.audioEngine.playEffect(this.xiaochuSound);\n                }\n            }\n        }\n\n        //cc.log(\"消除表现！！\")\n        //消除\n        var count = 0;\n        for (var i = 0; i < xcList.length; i++) {\n\n            var oneList = xcList[i];\n            for (var j = 0; j < oneList.length; j++) {\n                var xIndex = oneList[j];\n\n                var FKNode = this.frameList[xIndex].getChildByName(\"colorSpr\");\n                FKNode.destroy();\n\n                this.frameList[xIndex].isHaveFK = null;\n\n                count++;\n            }\n        }\n\n        this.addScore(count);\n    },\n\n    //加分，参数是消除的总数\n    addScore: function addScore(XCCount) {\n        var addScoreCount = 10 * XCCount * XCCount; //数量的平方\n        var node = cc.find('Canvas/score/scoreLabel');\n        var label = node.getComponent(cc.Label);\n\n        label.string = addScoreCount + Number(label.string);\n    },\n\n    //获得两个数组的交集\n    get2AryIntersect: function get2AryIntersect(ary1, ary2) {\n        var intersectAry = [];\n        for (var i = 0; i < ary1.length; i++) {\n            for (var j = 0; j < ary2.length; j++) {\n                if (ary2[j] == ary1[i]) {\n                    intersectAry.push(ary2[j]);\n                }\n            }\n        }\n\n        return intersectAry;\n    },\n\n    //获得两个数组的交集\n    check2AryIsEqual: function check2AryIsEqual(ary1, ary2) {\n        for (var i = 0; i < ary1.length; i++) {\n            if (ary2[i] != ary1[i]) {\n                return false;\n            }\n        }\n\n        return true;\n    },\n\n    // use this for initialization\n    onLoad: function onLoad() {\n        var srcPos = cc.p(this.node.x, this.node.y);\n        var lbxNodes = [];\n        var lbxNodesIndex = 0;\n        var maxCount = this[\"bianchanggezishu\"] * 2 - 1;\n\n        //位置表\n        var posList = [\n        //第一行的位置信息\n        {\n            count: 5,\n            srcPos: cc.p(0, 0)\n        },\n\n        //第二行的位置信息\n        {\n            count: 6,\n            srcPos: cc.p(2 * this[\"liubianxingH\"], 0)\n        },\n\n        //第三行的位置信息\n        {\n            count: 7,\n            srcPos: cc.p(2 * this[\"liubianxingH\"] * 2, 0)\n        },\n\n        //第四行的位置信息\n        {\n            count: 8,\n            srcPos: cc.p(2 * this[\"liubianxingH\"] * 3, 0)\n        },\n\n        //第五行的位置信息\n        {\n            count: 9,\n            srcPos: cc.p(2 * this[\"liubianxingH\"] * 4, 0)\n        },\n\n        //第六行的位置信息\n        {\n            count: 8,\n            srcPos: cc.p(2 * this[\"liubianxingH\"] * 4 + this[\"liubianxingH\"], -3 * this[\"liubianxingA\"] / 2)\n        },\n\n        //第七行的位置信息\n        {\n            count: 7,\n            srcPos: cc.p(2 * this[\"liubianxingH\"] * 4 + this[\"liubianxingH\"] * 2, -3 * this[\"liubianxingA\"] * 2 / 2)\n        },\n\n        //第八行的位置信息\n        {\n            count: 6,\n            srcPos: cc.p(2 * this[\"liubianxingH\"] * 4 + this[\"liubianxingH\"] * 3, -3 * this[\"liubianxingA\"] * 3 / 2)\n        },\n\n        //第九行的位置信息\n        {\n            count: 5,\n            srcPos: cc.p(2 * this[\"liubianxingH\"] * 4 + this[\"liubianxingH\"] * 4, -3 * this[\"liubianxingA\"] * 4 / 2)\n        }];\n\n        //要加的单位向量\n        var addVec = cc.pMult(cc.pForAngle(240 * (2 * Math.PI / 360)), this[\"liubianxingH\"] * 2);\n\n        //偏移至源点0，0的向量\n        var pianyiTo0p0Vec = cc.pMult(cc.pForAngle(120 * (2 * Math.PI / 360)), this[\"liubianxingH\"] * 2 * 4);\n\n        var frameList = [];\n\n        var fPosList = [];\n        //一列列来生成\n        for (var i = 0; i < posList.length; i++) {\n            var count = posList[i].count; //数量\n            var oneSrcPos = cc.pAdd(posList[i].srcPos, pianyiTo0p0Vec); //起始位置\n            var aimPos = cc.pAdd(srcPos, oneSrcPos); //一条的起始位置\n\n            for (var j = 0; j < count; j++) {\n                var fPos = cc.pAdd(aimPos, cc.pMult(addVec, j));\n                fPosList.push(fPos);\n            }\n        }\n\n        //初始化\n        for (var index = 0; index < fPosList.length; index++) {\n            var node = new cc.Node(\"frame\");\n            var sprite = node.addComponent(cc.Sprite);\n            sprite.spriteFrame = this[\"framePic\"];\n\n            node.x = fPosList[index].x;\n            node.y = fPosList[index].y;\n\n            //debug字用\n            // var labelNode = new cc.Node(\"New Label\")\n            // var labelCp = node.addComponent(cc.Label)\n            // labelCp.string = index//\"x:\"+Math.floor(node.x) + \"\\ny:\" + Math.floor(node.y)\n            // labelCp.overflow = cc.Label.Overflow.RESIZE_HEIGHT\n            // labelCp.fontSize = 18\n            // labelNode.parent = node\n\n            node.parent = this.node;\n\n            node.FKIndex = index;\n\n            //加边\n            var picNode = new cc.Node(\"bianSpr\");\n            var spr = picNode.addComponent(cc.Sprite);\n            spr.spriteFrame = this[\"bian\"];\n            picNode.active = false;\n            picNode.parent = node;\n\n            frameList.push(node);\n        }\n\n        this.frameList = frameList;\n        this.posList = posList;\n\n        //监听成功放下事件\n        this.node.on('succDropDownOne', this.checkXC, this);\n    }\n\n});\n// called every frame, uncomment this function to activate update callback\n//update: function (dt) {\n//cc.log(\"检测棋盘中.....\", this.frameList)\n// for (var i = 0; i < this.frameList.length; i++) {\n//     //是否需要变色\n//     if (this.frameList[i].isNeedToChangeColor) {\n//         this.frameList[i].color = cc.color(255, 255, 0)\n//     }else{\n//         this.frameList[i].color = cc.color(255, 255, 255)\n//     }\n\n// }\n//},\n\ncc._RFpop();\n},{}],\"NewLBXKuai\":[function(require,module,exports){\n\"use strict\";\ncc._RFpush(module, '7f7eecsfeNLxL7pMDgXTdAA', 'NewLBXKuai');\n// script\\gameCore\\NewLBXKuai.js\n\nvar _properties;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar InitLBXFrame = require('InitLBXFrame');\nvar Util = require('Util');\n\ncc.Class({\n    'extends': cc.Component,\n\n    properties: (_properties = {\n        checkerboard: {\n            'default': null,\n            type: InitLBXFrame\n        }\n\n    }, _defineProperty(_properties, \"Kcount\", 3), _defineProperty(_properties, \"liubianxingH\", 0), _defineProperty(_properties, \"liubianxingA\", 0), _defineProperty(_properties, \"kuaiTex\", {\n        'default': null,\n        type: cc.SpriteFrame\n    }), _defineProperty(_properties, \"color1\", {\n        'default': null,\n        type: cc.SpriteFrame\n    }), _defineProperty(_properties, \"color2\", {\n        'default': null,\n        type: cc.SpriteFrame\n    }), _defineProperty(_properties, \"color3\", {\n        'default': null,\n        type: cc.SpriteFrame\n    }), _defineProperty(_properties, \"color4\", {\n        'default': null,\n        type: cc.SpriteFrame\n    }), _defineProperty(_properties, 'anSound', {\n        'default': null,\n        url: cc.AudioClip\n    }), _defineProperty(_properties, 'fangxiaSound1', {\n        'default': null,\n        url: cc.AudioClip\n    }), _defineProperty(_properties, 'fangxiaSound2', {\n        'default': null,\n        url: cc.AudioClip\n    }), _defineProperty(_properties, 'fangxiaSound3', {\n        'default': null,\n        url: cc.AudioClip\n    }), _defineProperty(_properties, 'canNotSound1', {\n        'default': null,\n        url: cc.AudioClip\n    }), _defineProperty(_properties, 'canNotSound2', {\n        'default': null,\n        url: cc.AudioClip\n    }), _properties),\n\n    getTheConfig: function getTheConfig() {\n\n        var a = this[\"liubianxingA\"];\n        var h = this[\"liubianxingH\"];\n\n        var configLists = [[[cc.p(0, 0)]], //一个\n        [[cc.p(-h, 0), cc.p(h, 0)], //横摆\n        [cc.p(-h, -a * 0.5), cc.p(0, a)], //斜摆1\n        [cc.p(-h, a * 0.5), cc.p(0, -a)]], //斜摆2\n        //两个\n        [[cc.p(-h * 2, 0), cc.p(0, 0), cc.p(h * 2, 0)], //横摆\n\n        [cc.p(-h * 2, 0), cc.p(0, 0), cc.p(h, -a * 1.5)], //横摆1\n        [cc.p(-h * 2, 0), cc.p(0, 0), cc.p(h, a * 1.5)], //横摆2\n        [cc.p(-h, -a * 1.5), cc.p(0, 0), cc.p(h * 2, 0)], //横摆3\n        [cc.p(-h, a * 1.5), cc.p(0, 0), cc.p(h * 2, 0)], //横摆4\n\n        [cc.p(-h, -a * 1.5), cc.p(0, 0), cc.p(h, a * 1.5)], //斜摆\n        [cc.p(-h, a * 1.5), cc.p(0, 0), cc.p(h, -a * 1.5)], //斜摆\n\n        [cc.p(-h, a * 1.5), cc.p(0, 0), cc.p(-h, -a * 1.5)], //弯的\n        [cc.p(h, a * 1.5), cc.p(0, 0), cc.p(h, -a * 1.5)], //弯的\n\n        [cc.p(0, a), cc.p(-h, -a * 0.5), cc.p(h, -a * 0.5)]], //堆的\n\n        //三个\n        [[cc.p(-h * 3, 0), cc.p(-h, 0), cc.p(h, 0), cc.p(h * 3, 0)], //横摆\n        [cc.p(-h * 3, 0), cc.p(-h, 0), cc.p(h, 0), cc.p(h * 2, a * 1.5)], //横摆1\n        [cc.p(-h * 3, 0), cc.p(-h, 0), cc.p(h, 0), cc.p(h * 2, -a * 1.5)], //横摆2\n        [cc.p(-h * 2, a * 1.5), cc.p(-h, 0), cc.p(h, 0), cc.p(h * 3, 0)], //横摆3\n        [cc.p(-h * 2, -a * 1.5), cc.p(-h, 0), cc.p(h, 0), cc.p(h * 3, 0)], //横摆4\n\n        [cc.p(-h * 2, 0), cc.p(0, 0), cc.p(h * 2, 0), cc.p(h, a * 1.5)], //横突1\n        [cc.p(-h * 2, 0), cc.p(0, 0), cc.p(h * 2, 0), cc.p(h, -a * 1.5)], //横突2\n        [cc.p(-h * 2, 0), cc.p(0, 0), cc.p(h * 2, 0), cc.p(-h, a * 1.5)], //横突3\n        [cc.p(-h * 2, 0), cc.p(0, 0), cc.p(h * 2, 0), cc.p(-h, -a * 1.5)], //横突4\n\n        [cc.p(-h * 2, 0), cc.p(0, 0), cc.p(h, -a * 1.5), cc.p(h, a * 1.5)], //两个横，一个突下1\n        [cc.p(-h * 2, 0), cc.p(0, 0), cc.p(h, -a * 1.5), cc.p(-h, -a * 1.5)], //两个横，一个突下2\n        [cc.p(-h * 2, 0), cc.p(0, 0), cc.p(h, -a * 1.5), cc.p(-h, a * 1.5)], //两个横，一个突下3\n        [cc.p(-h * 2, 0), cc.p(0, 0), cc.p(h, -a * 1.5), cc.p(-h * 3, a * 1.5)], //两个横，一个突下4\n        [cc.p(-h * 2, 0), cc.p(0, 0), cc.p(h, -a * 1.5), cc.p(-h * 3, -a * 1.5)], //两个横，一个突下5\n        [cc.p(-h * 2, 0), cc.p(0, 0), cc.p(h, -a * 1.5), cc.p(h * 3, -a * 1.5)], //两个横，一个突下6\n        [cc.p(-h * 2, 0), cc.p(0, 0), cc.p(h, -a * 1.5), cc.p(h * 2, -a * 3)]]];\n\n        //两个横，一个突下7\n        //[cc.p(-h * 2, 0), cc.p(0, 0), cc.p(h, -a * 1.5), cc,p(0, -a * 3)],//两个横，一个突下8\n        //四个\n        return configLists;\n    },\n\n    newOneK: function newOneK(colorIndex) {\n        //创建一个块\n        var node = new cc.Node(\"colorSpr\");\n        var sprite = node.addComponent(cc.Sprite);\n        sprite.spriteFrame = this[\"color\" + colorIndex];\n\n        //cc.log(\"第\",colorIndex,\"个颜color\")\n\n        //加纹理\n        var wenliNode = new cc.Node(\"wenliSpr\");\n        var wenliSprite = wenliNode.addComponent(cc.Sprite);\n        wenliSprite.spriteFrame = this[\"kuaiTex\"];\n\n        wenliNode.parent = node;\n\n        return node;\n    },\n\n    newOneNode: function newOneNode() {\n        var kuaiNode = new cc.Node(\"kuai\");\n\n        var config = this.getTheConfig();\n        //for (var key in config) {\n\n        //}\n\n        //先随机是几个方块的\n        var index = require(\"Util\").random(0, 3);\n        var countPosList = config[index];\n\n        //在随机出样子\n        index = require(\"Util\").random(0, countPosList.length - 1);\n        var posList = countPosList[index];\n\n        var randomIndex = require(\"Util\").random(1, 4);\n        for (var index = 0; index < posList.length; index++) {\n            var pos = posList[index];\n            var kuai = this.newOneK(randomIndex);\n            kuai.x = pos.x;\n            kuai.y = pos.y;\n            kuaiNode.addChild(kuai);\n        }\n\n        return kuaiNode;\n    },\n\n    //添加触摸\n    addTouchEvent: function addTouchEvent() {\n        var upH = 100;\n        var self = this;\n\n        this.node.ox = this.node.x;\n        this.node.oy = this.node.y;\n\n        this.node.on(cc.Node.EventType.TOUCH_START, function () {\n            this.y += upH;\n            //cc.log(\"原位置：\", this.ox, this.oy)\n\n            cc.audioEngine.playEffect(self.anSound);\n        }, this.node);\n        this.node.on(cc.Node.EventType.TOUCH_MOVE, function (event) {\n\n            var delta = event.touch.getDelta();\n            this.x += delta.x;\n            this.y += delta.y;\n\n            self.collisionFunc(cc.p(this.x, this.y));\n\n            //变色处理\n            if (!self.checkIsCanDrop()) {\n                self.changeColorDeal(true);\n            } else {\n                self.changeColorDeal();\n            }\n        }, this.node);\n\n        this.node.on(cc.Node.EventType.TOUCH_CANCEL, function (event) {\n            this.dropDownFunc();\n        }, this);\n        this.node.on(cc.Node.EventType.TOUCH_END, function (event) {\n            this.dropDownFunc();\n        }, this);\n    },\n\n    //变色处理\n    changeColorDeal: function changeColorDeal(isJustClearColor) {\n        //cc.log(\"变色！\"+isJustClearColor, this.checkFrameList.length, \"this.checkerboard.frameList.length:\", this.checkerboard.frameList.length)\n\n        for (var i = 0; i < this.checkerboard.frameList.length; i++) {\n\n            var guangPicNode = this.checkerboard.frameList[i].getChildByName(\"bianSpr\");\n            guangPicNode.active = false;\n        }\n\n        //如果参数有值，直接返回，不做下面的\n        if (isJustClearColor) {\n            return;\n        }\n\n        for (var i = 0; i < this.checkFrameList.length; i++) {\n\n            var guangPicNode = this.checkFrameList[i].getChildByName(\"bianSpr\");\n            guangPicNode.active = true;\n        }\n    },\n\n    //碰撞逻辑\n    collisionFunc: function collisionFunc(event) {\n        //debug字用\n        // this.debugLabel.string = \"x:\"+Math.floor(this.node.x) + \"\\ny:\" + Math.floor(this.node.y)\n        //cc.log(\"x:\", this.node.x, \"y:\", this.node.y, this.node)\n\n        this.checkFrameList = []; //清空数组\n        this.checkFKlist = []; //清空数组\n\n        var children = this.node.children[0].children;\n\n        for (var i = 0; i < children.length; i++) {\n\n            var childPos = cc.pAdd(this.node.position, cc.p(children[i].x, children[i].y));\n            var frame = this.checkPosFunc(childPos);\n\n            if (frame) {\n                this.checkFKlist.push(children[i]);\n                this.checkFrameList.push(frame);\n            }\n        }\n    },\n\n    //一个点和棋盘的所有框检测\n    checkPosFunc: function checkPosFunc(pos) {\n        var len = 27; //碰撞距离\n\n        for (var i = 0; i < this.checkerboard.frameList.length; i++) {\n            var frameNode = this.checkerboard.frameList[i];\n            var dis = cc.pDistance(cc.p(frameNode.x, frameNode.y), pos);\n            if (dis <= len) {\n                return frameNode;\n            }\n        }\n    },\n\n    //检测自身是否已经无处可放\n    checkIsLose: function checkIsLose() {\n        //今天到这里\n    },\n\n    //检测是否能够放下\n    checkIsCanDrop: function checkIsCanDrop() {\n        //先判断数量是否一致，不一致说明有一个超出去了\n        if (this.checkFrameList.length == 0 || this.checkFrameList.length != this.node.children[0].children.length) {\n            return false;\n        }\n\n        //检测放下的格子是否已经有方块\n        for (var i = 0; i < this.checkFrameList.length; i++) {\n            if (this.checkFrameList[i].isHaveFK) {\n                return false;\n            }\n        }\n\n        return true;\n    },\n\n    //放下逻辑\n    dropDownFunc: function dropDownFunc() {\n\n        if (!this.checkIsCanDrop()) {\n            //放回去\n            this.takeBack();\n\n            cc.audioEngine.playEffect(this.canNotSound1);\n            return;\n        }\n\n        for (var i = 0; i < this.checkFKlist.length; i++) {\n            this.checkFKlist[i].x = 0;\n            this.checkFKlist[i].y = 0;\n\n            this.checkFKlist[i].parent = this.checkFrameList[i];\n            this.checkFrameList[i].isHaveFK = true;\n\n            //cc.log(\"this.checkFrameList[\"+i+\"]:\", this.checkFrameList[i])\n\n            var picNode = new cc.Node(\"guangEffNode\");\n            var spr = picNode.addComponent(cc.Sprite);\n            spr.spriteFrame = this.checkerboard[\"bian\"];\n            this.checkFrameList[i].addChild(picNode, -1);\n            var action = cc.repeatForever(cc.sequence(cc.spawn(cc.fadeOut(1), cc.scaleTo(1, 1.2)), cc.removeSelf()));\n            picNode.runAction(action);\n        }\n\n        this.node.removeAllChildren();\n        var oneNode = this.newOneNode();\n        this.node.addChild(oneNode);\n\n        this.checkerboard.node.emit('succDropDownOne');\n\n        var ranC = Util.random(1, 3);\n        cc.audioEngine.playEffect(this[\"fangxiaSound\" + ranC]);\n\n        //放回去\n        this.takeBack();\n    },\n\n    //回到原位\n    takeBack: function takeBack() {\n        //变色处理\n        this.checkFrameList = []; //清空数组\n        this.changeColorDeal();\n\n        this.node.x = this.node.ox;\n        this.node.y = this.node.oy;\n    },\n\n    // use this for initialization\n    onLoad: function onLoad() {\n        this.checkFrameList = [];\n        this.checkFKlist = [];\n\n        var oneNode = this.newOneNode();\n        this.node.addChild(oneNode);\n\n        //添加触摸\n        this.addTouchEvent();\n\n        //debug字用\n        // var labelNode = new cc.Node(\"New Label\")\n        // var labelCp = this.node.addComponent(cc.Label)\n        // labelCp.string = \"x:\"+Math.floor(this.node.x) + \"\\ny:\" + Math.floor(this.node.y)\n        // labelCp.fontSize = 18\n        // labelNode.parent = this.node\n        // labelNode.zIndex = 1\n        // cc.log(\"Node zIndex: \" + labelNode.zIndex)\n        // this.debugLabel = labelCp\n    }\n\n    // called every frame, uncomment this function to activate update callback\n    // update: function (dt) {\n\n    // },\n});\n\ncc._RFpop();\n},{\"InitLBXFrame\":\"InitLBXFrame\",\"Util\":\"Util\"}],\"ScoreBtnCp\":[function(require,module,exports){\n\"use strict\";\ncc._RFpush(module, 'fa093eyq9ROGJnwYLEn4xRL', 'ScoreBtnCp');\n// script\\ScoreBtnCp.js\n\ncc.Class({\n    \"extends\": cc.Component,\n\n    properties: {\n        // foo: {\n        //    default: null,\n        //    url: cc.Texture2D,  // optional, default is typeof default\n        //    serializable: true, // optional, default is true\n        //    visible: true,      // optional, default is true\n        //    displayName: 'Foo', // optional\n        //    readonly: false,    // optional, default is false\n        // },\n        // ...\n    },\n\n    // use this for initialization\n    onLoad: function onLoad() {}\n\n});\n// called every frame, uncomment this function to activate update callback\n// update: function (dt) {\n\n// },\n\ncc._RFpop();\n},{}],\"StartBtnCp\":[function(require,module,exports){\n\"use strict\";\ncc._RFpush(module, '7d9dd4jmi9I7Z1fgVPHfEXS', 'StartBtnCp');\n// script\\StartBtnCp.js\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\ncc.Class({\n    \"extends\": cc.Component,\n\n    properties: _defineProperty({}, \"游戏界面\", {\n        \"default\": null,\n        type: cc.Prefab\n    }),\n\n    onClick: function onClick() {\n        var canvas = this.node.parent;\n        var action = cc.sequence(cc.scaleTo(0.2, 0), cc.callFunc(function () {\n            cc.log(\"开始游戏\");\n\n            cc.director.loadScene(\"gameScene\");\n\n            // cc.loader.loadRes(\"scoreBtn\", function (err, node) {\n            //     var newNode = cc.instantiate(node);\n            //     canvas.addChild(newNode);\n            // })\n\n            // cc.loader.loadRes(\"lbxLayout\", function (err, node) {\n            //     var newNode = cc.instantiate(node);\n            //     canvas.addChild(newNode);\n\n            // })\n\n            // cc.loader.loadRes(\"getNewFK\", function (err, node) {\n            //     var newNode = cc.instantiate(node);\n            //     canvas.addChild(newNode);\n\n            // })\n\n            this.node.destroy();\n        }, this));\n\n        var anim = this.getComponent(cc.Animation);\n        anim.stop();\n\n        this.node.runAction(action);\n    },\n\n    // use this for initialization\n    onLoad: function onLoad() {}\n\n});\n// called every frame, uncomment this function to activate update callback\n// update: function (dt) {\n\n// },\n\ncc._RFpop();\n},{}],\"Util\":[function(require,module,exports){\n\"use strict\";\ncc._RFpush(module, '1f57fJXW/5MwpzGE2th5qGE', 'Util');\n// script\\gameCore\\common\\Util.js\n\n/**\r\n * Created by Administrator on 2016/5/6.\r\n */\nvar _p = {\n\n    //遍历对象的属性和方法\n    printObj: function printObj(obj) {\n        // 用来保存所有的属性名称和值\n        var props = \"\";\n        // 开始遍历\n        for (var p in obj) {\n            // 方法\n            if (typeof obj[p] == \" function \") {\n                props += p + \" \\n \";\n            } else {\n                // p 为属性名称，obj[p]为对应属性的值\n                props += p + \" \\n \";\n            }\n        } // 最后显示所有的属性\n\n        cc.log(props);\n    },\n\n    //随机\n    random: function random(min, max) {\n\n        return Math.floor(Math.random() * (max - min + 1) + min);\n    }\n};\n\nmodule.exports = _p;\n\ncc._RFpop();\n},{}]},{},[\"Util\",\"BgRandomMove\",\"Game\",\"InitLBXFrame\",\"StartBtnCp\",\"NewLBXKuai\",\"GameData\",\"ScoreBtnCp\",\"App\",\"ButtonControl\"])\n\n","\"use strict\";\ncc._RFpush(module, '2efffJ1hlRMy6NEHp7IMcJi', 'BgRandomMove');\n// script\\BgRandomMove.js\n\nvar _properties;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\ncc.Class({\n    \"extends\": cc.Component,\n\n    properties: (_properties = {}, _defineProperty(_properties, \"X轴移动距离\", 1), _defineProperty(_properties, \"y轴移动距离\", 1), _defineProperty(_properties, \"移动速度(单位：像素/秒)\", 20), _defineProperty(_properties, \"随机量\", 10), _properties),\n\n    //随机移动\n    randomMove: function randomMove() {\n\n        var dt = cc.pLength(cc.p(this[\"X轴移动距离\"], this[\"y轴移动距离\"])) / this[\"移动速度(单位：像素/秒)\"];\n        var randomDir = cc.pMult(cc.pNormalize(cc.p(cc.randomMinus1To1(), cc.randomMinus1To1())), this[\"随机量\"]);\n\n        var moveDir = cc.pAdd(cc.p(this[\"X轴移动距离\"], this[\"y轴移动距离\"]), randomDir);\n\n        var action = cc.repeatForever(cc.sequence(cc.moveBy(dt, moveDir), cc.moveBy(dt, cc.pMult(moveDir, -1))));\n\n        this.node.runAction(action);\n    },\n\n    // use this for initialization\n    onLoad: function onLoad() {\n        this.randomMove();\n    }\n\n});\n// called every frame, uncomment this function to activate update callback\n// update: function (dt) {\n\n// },\n\ncc._RFpop();","\"use strict\";\ncc._RFpush(module, 'c2d5bVI67ZPAq8U5jXlmGwC', 'ButtonControl');\n// script\\gameCore\\common\\ButtonControl.js\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\ncc.Class({\n    \"extends\": cc.Component,\n\n    properties: _defineProperty({}, \"音效\", {\n        \"default\": null,\n        url: cc.AudioClip\n    }),\n\n    onClick: function onClick() {\n        cc.audioEngine.playEffect(this[\"音效\"]);\n    },\n\n    // use this for initialization\n    onLoad: function onLoad() {}\n\n});\n// called every frame, uncomment this function to activate update callback\n// update: function (dt) {\n\n// },\n\ncc._RFpop();","\"use strict\";\ncc._RFpush(module, 'f90693GTmlGS7T5fknnDNTy', 'GameData');\n// script\\GameData.js\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\ncc.Class({\n    \"extends\": cc.Component,\n\n    properties: _defineProperty({}, \"分数\", 0),\n\n    // use this for initialization\n    onLoad: function onLoad() {}\n\n});\n// called every frame, uncomment this function to activate update callback\n// update: function (dt) {\n\n// },\n\ncc._RFpop();","\"use strict\";\ncc._RFpush(module, '701b9htTn1PFIOruA6mnooK', 'Game');\n// script\\Game.js\n\nvar _properties;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\ncc.Class({\n    \"extends\": cc.Component,\n\n    properties: (_properties = {}, _defineProperty(_properties, \"分数\", 0), _defineProperty(_properties, \"背景音乐\", {\n        \"default\": null,\n        url: cc.AudioClip\n    }), _defineProperty(_properties, \"是否开启音乐\", true), _properties),\n\n    // use this for initialization\n    onLoad: function onLoad() {\n        require('App');\n\n        if (this[\"是否开启音乐\"]) {\n            cc.audioEngine.playEffect(this[\"背景音乐\"], true);\n        }\n    }\n\n});\n// called every frame, uncomment this function to activate update callback\n// update: function (dt) {\n\n// },\n\ncc._RFpop();","\"use strict\";\ncc._RFpush(module, '73810un/L9B+7ptubQfLvHy', 'InitLBXFrame');\n// script\\gameCore\\InitLBXFrame.js\n\nvar _properties;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\ncc.Class({\n    \"extends\": cc.Component,\n\n    properties: (_properties = {}, _defineProperty(_properties, \"bianchanggezishu\", 5), _defineProperty(_properties, \"liubianxingH\", 0), _defineProperty(_properties, \"liubianxingA\", 0), _defineProperty(_properties, \"framePic\", {\n        \"default\": null,\n        type: cc.SpriteFrame\n    }), _defineProperty(_properties, \"bian\", {\n        \"default\": null,\n        type: cc.SpriteFrame\n    }), _defineProperty(_properties, \"xiaochuSound\", {\n        \"default\": null,\n        url: cc.AudioClip\n    }), _properties),\n\n    //检测消除\n    checkXC: function checkXC(argument) {\n        //cc.log(\"成功放下，检测是否需要消除\")\n\n        var disList = [\n        //一个方向\n        [0, 1, 2, 3, 4], [5, 6, 7, 8, 9, 10], [11, 12, 13, 14, 15, 16, 17], [18, 19, 20, 21, 22, 23, 24, 25], [26, 27, 28, 29, 30, 31, 32, 33, 34], [35, 36, 37, 38, 39, 40, 41, 42], [43, 44, 45, 46, 47, 48, 49], [50, 51, 52, 53, 54, 55], [56, 57, 58, 59, 60],\n\n        //另一个方向\n        [26, 35, 43, 50, 56], [18, 27, 36, 44, 51, 57], [11, 19, 28, 37, 45, 52, 58], [5, 12, 20, 29, 38, 46, 53, 59], [0, 6, 13, 21, 30, 39, 47, 54, 60], [1, 7, 14, 22, 31, 40, 48, 55], [2, 8, 15, 23, 32, 41, 49], [3, 9, 16, 24, 33, 42], [4, 10, 17, 25, 34],\n\n        //横向\n        [0, 5, 11, 18, 26], [1, 6, 12, 19, 27, 35], [2, 7, 13, 20, 28, 36, 43], [3, 8, 14, 21, 29, 37, 44, 50], [4, 9, 15, 22, 30, 38, 45, 51, 56], [10, 16, 23, 31, 39, 46, 52, 57], [17, 24, 32, 40, 47, 53, 58], [25, 33, 41, 48, 54, 59], [34, 42, 49, 55, 60]];\n\n        var haveFKIndexList = [];\n        for (var i = 0; i < this.frameList.length; i++) {\n            if (this.frameList[i].isHaveFK) {\n                //cc.log(this.frameList[i].FKIndex)\n                haveFKIndexList.push(this.frameList[i].FKIndex);\n            }\n        }\n\n        haveFKIndexList.sort(function (a, b) {\n            return a - b;\n        });\n\n        //cc.log(\"haveFKIndexList：\", haveFKIndexList.toString())\n\n        var xcList = [];\n        for (var i = 0; i < disList.length; i++) {\n            var oneXCList = disList[i];\n            var intersectAry = this.get2AryIntersect(haveFKIndexList, oneXCList);\n\n            if (intersectAry.length > 0) {\n                //cc.log(\"intersectAry:\", intersectAry.toString())\n                //cc.log(\"oneXCList:\", oneXCList.toString())\n\n                var isXC = this.check2AryIsEqual(oneXCList, intersectAry);\n\n                //cc.log(\"intersectAry 和 oneXCList是否相等：\", isXC)\n                if (isXC) {\n                    //cc.log(\"消！！\", oneXCList.toString())\n                    cc.log(\"消！！\");\n                    xcList.push(oneXCList);\n\n                    cc.audioEngine.playEffect(this.xiaochuSound);\n                }\n            }\n        }\n\n        //cc.log(\"消除表现！！\")\n        //消除\n        var count = 0;\n        for (var i = 0; i < xcList.length; i++) {\n\n            var oneList = xcList[i];\n            for (var j = 0; j < oneList.length; j++) {\n                var xIndex = oneList[j];\n\n                var FKNode = this.frameList[xIndex].getChildByName(\"colorSpr\");\n                FKNode.destroy();\n\n                this.frameList[xIndex].isHaveFK = null;\n\n                count++;\n            }\n        }\n\n        this.addScore(count);\n    },\n\n    //加分，参数是消除的总数\n    addScore: function addScore(XCCount) {\n        var addScoreCount = 10 * XCCount * XCCount; //数量的平方\n        var node = cc.find('Canvas/score/scoreLabel');\n        var label = node.getComponent(cc.Label);\n\n        label.string = addScoreCount + Number(label.string);\n    },\n\n    //获得两个数组的交集\n    get2AryIntersect: function get2AryIntersect(ary1, ary2) {\n        var intersectAry = [];\n        for (var i = 0; i < ary1.length; i++) {\n            for (var j = 0; j < ary2.length; j++) {\n                if (ary2[j] == ary1[i]) {\n                    intersectAry.push(ary2[j]);\n                }\n            }\n        }\n\n        return intersectAry;\n    },\n\n    //获得两个数组的交集\n    check2AryIsEqual: function check2AryIsEqual(ary1, ary2) {\n        for (var i = 0; i < ary1.length; i++) {\n            if (ary2[i] != ary1[i]) {\n                return false;\n            }\n        }\n\n        return true;\n    },\n\n    // use this for initialization\n    onLoad: function onLoad() {\n        var srcPos = cc.p(this.node.x, this.node.y);\n        var lbxNodes = [];\n        var lbxNodesIndex = 0;\n        var maxCount = this[\"bianchanggezishu\"] * 2 - 1;\n\n        //位置表\n        var posList = [\n        //第一行的位置信息\n        {\n            count: 5,\n            srcPos: cc.p(0, 0)\n        },\n\n        //第二行的位置信息\n        {\n            count: 6,\n            srcPos: cc.p(2 * this[\"liubianxingH\"], 0)\n        },\n\n        //第三行的位置信息\n        {\n            count: 7,\n            srcPos: cc.p(2 * this[\"liubianxingH\"] * 2, 0)\n        },\n\n        //第四行的位置信息\n        {\n            count: 8,\n            srcPos: cc.p(2 * this[\"liubianxingH\"] * 3, 0)\n        },\n\n        //第五行的位置信息\n        {\n            count: 9,\n            srcPos: cc.p(2 * this[\"liubianxingH\"] * 4, 0)\n        },\n\n        //第六行的位置信息\n        {\n            count: 8,\n            srcPos: cc.p(2 * this[\"liubianxingH\"] * 4 + this[\"liubianxingH\"], -3 * this[\"liubianxingA\"] / 2)\n        },\n\n        //第七行的位置信息\n        {\n            count: 7,\n            srcPos: cc.p(2 * this[\"liubianxingH\"] * 4 + this[\"liubianxingH\"] * 2, -3 * this[\"liubianxingA\"] * 2 / 2)\n        },\n\n        //第八行的位置信息\n        {\n            count: 6,\n            srcPos: cc.p(2 * this[\"liubianxingH\"] * 4 + this[\"liubianxingH\"] * 3, -3 * this[\"liubianxingA\"] * 3 / 2)\n        },\n\n        //第九行的位置信息\n        {\n            count: 5,\n            srcPos: cc.p(2 * this[\"liubianxingH\"] * 4 + this[\"liubianxingH\"] * 4, -3 * this[\"liubianxingA\"] * 4 / 2)\n        }];\n\n        //要加的单位向量\n        var addVec = cc.pMult(cc.pForAngle(240 * (2 * Math.PI / 360)), this[\"liubianxingH\"] * 2);\n\n        //偏移至源点0，0的向量\n        var pianyiTo0p0Vec = cc.pMult(cc.pForAngle(120 * (2 * Math.PI / 360)), this[\"liubianxingH\"] * 2 * 4);\n\n        var frameList = [];\n\n        var fPosList = [];\n        //一列列来生成\n        for (var i = 0; i < posList.length; i++) {\n            var count = posList[i].count; //数量\n            var oneSrcPos = cc.pAdd(posList[i].srcPos, pianyiTo0p0Vec); //起始位置\n            var aimPos = cc.pAdd(srcPos, oneSrcPos); //一条的起始位置\n\n            for (var j = 0; j < count; j++) {\n                var fPos = cc.pAdd(aimPos, cc.pMult(addVec, j));\n                fPosList.push(fPos);\n            }\n        }\n\n        //初始化\n        for (var index = 0; index < fPosList.length; index++) {\n            var node = new cc.Node(\"frame\");\n            var sprite = node.addComponent(cc.Sprite);\n            sprite.spriteFrame = this[\"framePic\"];\n\n            node.x = fPosList[index].x;\n            node.y = fPosList[index].y;\n\n            //debug字用\n            // var labelNode = new cc.Node(\"New Label\")\n            // var labelCp = node.addComponent(cc.Label)\n            // labelCp.string = index//\"x:\"+Math.floor(node.x) + \"\\ny:\" + Math.floor(node.y)\n            // labelCp.overflow = cc.Label.Overflow.RESIZE_HEIGHT\n            // labelCp.fontSize = 18\n            // labelNode.parent = node\n\n            node.parent = this.node;\n\n            node.FKIndex = index;\n\n            //加边\n            var picNode = new cc.Node(\"bianSpr\");\n            var spr = picNode.addComponent(cc.Sprite);\n            spr.spriteFrame = this[\"bian\"];\n            picNode.active = false;\n            picNode.parent = node;\n\n            frameList.push(node);\n        }\n\n        this.frameList = frameList;\n        this.posList = posList;\n\n        //监听成功放下事件\n        this.node.on('succDropDownOne', this.checkXC, this);\n    }\n\n});\n// called every frame, uncomment this function to activate update callback\n//update: function (dt) {\n//cc.log(\"检测棋盘中.....\", this.frameList)\n// for (var i = 0; i < this.frameList.length; i++) {\n//     //是否需要变色\n//     if (this.frameList[i].isNeedToChangeColor) {\n//         this.frameList[i].color = cc.color(255, 255, 0)\n//     }else{\n//         this.frameList[i].color = cc.color(255, 255, 255)\n//     }\n\n// }\n//},\n\ncc._RFpop();","\"use strict\";\ncc._RFpush(module, '7f7eecsfeNLxL7pMDgXTdAA', 'NewLBXKuai');\n// script\\gameCore\\NewLBXKuai.js\n\nvar _properties;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar InitLBXFrame = require('InitLBXFrame');\nvar Util = require('Util');\n\ncc.Class({\n    'extends': cc.Component,\n\n    properties: (_properties = {\n        checkerboard: {\n            'default': null,\n            type: InitLBXFrame\n        }\n\n    }, _defineProperty(_properties, \"Kcount\", 3), _defineProperty(_properties, \"liubianxingH\", 0), _defineProperty(_properties, \"liubianxingA\", 0), _defineProperty(_properties, \"kuaiTex\", {\n        'default': null,\n        type: cc.SpriteFrame\n    }), _defineProperty(_properties, \"color1\", {\n        'default': null,\n        type: cc.SpriteFrame\n    }), _defineProperty(_properties, \"color2\", {\n        'default': null,\n        type: cc.SpriteFrame\n    }), _defineProperty(_properties, \"color3\", {\n        'default': null,\n        type: cc.SpriteFrame\n    }), _defineProperty(_properties, \"color4\", {\n        'default': null,\n        type: cc.SpriteFrame\n    }), _defineProperty(_properties, 'anSound', {\n        'default': null,\n        url: cc.AudioClip\n    }), _defineProperty(_properties, 'fangxiaSound1', {\n        'default': null,\n        url: cc.AudioClip\n    }), _defineProperty(_properties, 'fangxiaSound2', {\n        'default': null,\n        url: cc.AudioClip\n    }), _defineProperty(_properties, 'fangxiaSound3', {\n        'default': null,\n        url: cc.AudioClip\n    }), _defineProperty(_properties, 'canNotSound1', {\n        'default': null,\n        url: cc.AudioClip\n    }), _defineProperty(_properties, 'canNotSound2', {\n        'default': null,\n        url: cc.AudioClip\n    }), _properties),\n\n    getTheConfig: function getTheConfig() {\n\n        var a = this[\"liubianxingA\"];\n        var h = this[\"liubianxingH\"];\n\n        var configLists = [[[cc.p(0, 0)]], //一个\n        [[cc.p(-h, 0), cc.p(h, 0)], //横摆\n        [cc.p(-h, -a * 0.5), cc.p(0, a)], //斜摆1\n        [cc.p(-h, a * 0.5), cc.p(0, -a)]], //斜摆2\n        //两个\n        [[cc.p(-h * 2, 0), cc.p(0, 0), cc.p(h * 2, 0)], //横摆\n\n        [cc.p(-h * 2, 0), cc.p(0, 0), cc.p(h, -a * 1.5)], //横摆1\n        [cc.p(-h * 2, 0), cc.p(0, 0), cc.p(h, a * 1.5)], //横摆2\n        [cc.p(-h, -a * 1.5), cc.p(0, 0), cc.p(h * 2, 0)], //横摆3\n        [cc.p(-h, a * 1.5), cc.p(0, 0), cc.p(h * 2, 0)], //横摆4\n\n        [cc.p(-h, -a * 1.5), cc.p(0, 0), cc.p(h, a * 1.5)], //斜摆\n        [cc.p(-h, a * 1.5), cc.p(0, 0), cc.p(h, -a * 1.5)], //斜摆\n\n        [cc.p(-h, a * 1.5), cc.p(0, 0), cc.p(-h, -a * 1.5)], //弯的\n        [cc.p(h, a * 1.5), cc.p(0, 0), cc.p(h, -a * 1.5)], //弯的\n\n        [cc.p(0, a), cc.p(-h, -a * 0.5), cc.p(h, -a * 0.5)]], //堆的\n\n        //三个\n        [[cc.p(-h * 3, 0), cc.p(-h, 0), cc.p(h, 0), cc.p(h * 3, 0)], //横摆\n        [cc.p(-h * 3, 0), cc.p(-h, 0), cc.p(h, 0), cc.p(h * 2, a * 1.5)], //横摆1\n        [cc.p(-h * 3, 0), cc.p(-h, 0), cc.p(h, 0), cc.p(h * 2, -a * 1.5)], //横摆2\n        [cc.p(-h * 2, a * 1.5), cc.p(-h, 0), cc.p(h, 0), cc.p(h * 3, 0)], //横摆3\n        [cc.p(-h * 2, -a * 1.5), cc.p(-h, 0), cc.p(h, 0), cc.p(h * 3, 0)], //横摆4\n\n        [cc.p(-h * 2, 0), cc.p(0, 0), cc.p(h * 2, 0), cc.p(h, a * 1.5)], //横突1\n        [cc.p(-h * 2, 0), cc.p(0, 0), cc.p(h * 2, 0), cc.p(h, -a * 1.5)], //横突2\n        [cc.p(-h * 2, 0), cc.p(0, 0), cc.p(h * 2, 0), cc.p(-h, a * 1.5)], //横突3\n        [cc.p(-h * 2, 0), cc.p(0, 0), cc.p(h * 2, 0), cc.p(-h, -a * 1.5)], //横突4\n\n        [cc.p(-h * 2, 0), cc.p(0, 0), cc.p(h, -a * 1.5), cc.p(h, a * 1.5)], //两个横，一个突下1\n        [cc.p(-h * 2, 0), cc.p(0, 0), cc.p(h, -a * 1.5), cc.p(-h, -a * 1.5)], //两个横，一个突下2\n        [cc.p(-h * 2, 0), cc.p(0, 0), cc.p(h, -a * 1.5), cc.p(-h, a * 1.5)], //两个横，一个突下3\n        [cc.p(-h * 2, 0), cc.p(0, 0), cc.p(h, -a * 1.5), cc.p(-h * 3, a * 1.5)], //两个横，一个突下4\n        [cc.p(-h * 2, 0), cc.p(0, 0), cc.p(h, -a * 1.5), cc.p(-h * 3, -a * 1.5)], //两个横，一个突下5\n        [cc.p(-h * 2, 0), cc.p(0, 0), cc.p(h, -a * 1.5), cc.p(h * 3, -a * 1.5)], //两个横，一个突下6\n        [cc.p(-h * 2, 0), cc.p(0, 0), cc.p(h, -a * 1.5), cc.p(h * 2, -a * 3)]]];\n\n        //两个横，一个突下7\n        //[cc.p(-h * 2, 0), cc.p(0, 0), cc.p(h, -a * 1.5), cc,p(0, -a * 3)],//两个横，一个突下8\n        //四个\n        return configLists;\n    },\n\n    newOneK: function newOneK(colorIndex) {\n        //创建一个块\n        var node = new cc.Node(\"colorSpr\");\n        var sprite = node.addComponent(cc.Sprite);\n        sprite.spriteFrame = this[\"color\" + colorIndex];\n\n        //cc.log(\"第\",colorIndex,\"个颜color\")\n\n        //加纹理\n        var wenliNode = new cc.Node(\"wenliSpr\");\n        var wenliSprite = wenliNode.addComponent(cc.Sprite);\n        wenliSprite.spriteFrame = this[\"kuaiTex\"];\n\n        wenliNode.parent = node;\n\n        return node;\n    },\n\n    newOneNode: function newOneNode() {\n        var kuaiNode = new cc.Node(\"kuai\");\n\n        var config = this.getTheConfig();\n        //for (var key in config) {\n\n        //}\n\n        //先随机是几个方块的\n        var index = require(\"Util\").random(0, 3);\n        var countPosList = config[index];\n\n        //在随机出样子\n        index = require(\"Util\").random(0, countPosList.length - 1);\n        var posList = countPosList[index];\n\n        var randomIndex = require(\"Util\").random(1, 4);\n        for (var index = 0; index < posList.length; index++) {\n            var pos = posList[index];\n            var kuai = this.newOneK(randomIndex);\n            kuai.x = pos.x;\n            kuai.y = pos.y;\n            kuaiNode.addChild(kuai);\n        }\n\n        return kuaiNode;\n    },\n\n    //添加触摸\n    addTouchEvent: function addTouchEvent() {\n        var upH = 100;\n        var self = this;\n\n        this.node.ox = this.node.x;\n        this.node.oy = this.node.y;\n\n        this.node.on(cc.Node.EventType.TOUCH_START, function () {\n            this.y += upH;\n            //cc.log(\"原位置：\", this.ox, this.oy)\n\n            cc.audioEngine.playEffect(self.anSound);\n        }, this.node);\n        this.node.on(cc.Node.EventType.TOUCH_MOVE, function (event) {\n\n            var delta = event.touch.getDelta();\n            this.x += delta.x;\n            this.y += delta.y;\n\n            self.collisionFunc(cc.p(this.x, this.y));\n\n            //变色处理\n            if (!self.checkIsCanDrop()) {\n                self.changeColorDeal(true);\n            } else {\n                self.changeColorDeal();\n            }\n        }, this.node);\n\n        this.node.on(cc.Node.EventType.TOUCH_CANCEL, function (event) {\n            this.dropDownFunc();\n        }, this);\n        this.node.on(cc.Node.EventType.TOUCH_END, function (event) {\n            this.dropDownFunc();\n        }, this);\n    },\n\n    //变色处理\n    changeColorDeal: function changeColorDeal(isJustClearColor) {\n        //cc.log(\"变色！\"+isJustClearColor, this.checkFrameList.length, \"this.checkerboard.frameList.length:\", this.checkerboard.frameList.length)\n\n        for (var i = 0; i < this.checkerboard.frameList.length; i++) {\n\n            var guangPicNode = this.checkerboard.frameList[i].getChildByName(\"bianSpr\");\n            guangPicNode.active = false;\n        }\n\n        //如果参数有值，直接返回，不做下面的\n        if (isJustClearColor) {\n            return;\n        }\n\n        for (var i = 0; i < this.checkFrameList.length; i++) {\n\n            var guangPicNode = this.checkFrameList[i].getChildByName(\"bianSpr\");\n            guangPicNode.active = true;\n        }\n    },\n\n    //碰撞逻辑\n    collisionFunc: function collisionFunc(event) {\n        //debug字用\n        // this.debugLabel.string = \"x:\"+Math.floor(this.node.x) + \"\\ny:\" + Math.floor(this.node.y)\n        //cc.log(\"x:\", this.node.x, \"y:\", this.node.y, this.node)\n\n        this.checkFrameList = []; //清空数组\n        this.checkFKlist = []; //清空数组\n\n        var children = this.node.children[0].children;\n\n        for (var i = 0; i < children.length; i++) {\n\n            var childPos = cc.pAdd(this.node.position, cc.p(children[i].x, children[i].y));\n            var frame = this.checkPosFunc(childPos);\n\n            if (frame) {\n                this.checkFKlist.push(children[i]);\n                this.checkFrameList.push(frame);\n            }\n        }\n    },\n\n    //一个点和棋盘的所有框检测\n    checkPosFunc: function checkPosFunc(pos) {\n        var len = 27; //碰撞距离\n\n        for (var i = 0; i < this.checkerboard.frameList.length; i++) {\n            var frameNode = this.checkerboard.frameList[i];\n            var dis = cc.pDistance(cc.p(frameNode.x, frameNode.y), pos);\n            if (dis <= len) {\n                return frameNode;\n            }\n        }\n    },\n\n    //检测自身是否已经无处可放\n    checkIsLose: function checkIsLose() {\n        //今天到这里\n    },\n\n    //检测是否能够放下\n    checkIsCanDrop: function checkIsCanDrop() {\n        //先判断数量是否一致，不一致说明有一个超出去了\n        if (this.checkFrameList.length == 0 || this.checkFrameList.length != this.node.children[0].children.length) {\n            return false;\n        }\n\n        //检测放下的格子是否已经有方块\n        for (var i = 0; i < this.checkFrameList.length; i++) {\n            if (this.checkFrameList[i].isHaveFK) {\n                return false;\n            }\n        }\n\n        return true;\n    },\n\n    //放下逻辑\n    dropDownFunc: function dropDownFunc() {\n\n        if (!this.checkIsCanDrop()) {\n            //放回去\n            this.takeBack();\n\n            cc.audioEngine.playEffect(this.canNotSound1);\n            return;\n        }\n\n        for (var i = 0; i < this.checkFKlist.length; i++) {\n            this.checkFKlist[i].x = 0;\n            this.checkFKlist[i].y = 0;\n\n            this.checkFKlist[i].parent = this.checkFrameList[i];\n            this.checkFrameList[i].isHaveFK = true;\n\n            //cc.log(\"this.checkFrameList[\"+i+\"]:\", this.checkFrameList[i])\n\n            var picNode = new cc.Node(\"guangEffNode\");\n            var spr = picNode.addComponent(cc.Sprite);\n            spr.spriteFrame = this.checkerboard[\"bian\"];\n            this.checkFrameList[i].addChild(picNode, -1);\n            var action = cc.repeatForever(cc.sequence(cc.spawn(cc.fadeOut(1), cc.scaleTo(1, 1.2)), cc.removeSelf()));\n            picNode.runAction(action);\n        }\n\n        this.node.removeAllChildren();\n        var oneNode = this.newOneNode();\n        this.node.addChild(oneNode);\n\n        this.checkerboard.node.emit('succDropDownOne');\n\n        var ranC = Util.random(1, 3);\n        cc.audioEngine.playEffect(this[\"fangxiaSound\" + ranC]);\n\n        //放回去\n        this.takeBack();\n    },\n\n    //回到原位\n    takeBack: function takeBack() {\n        //变色处理\n        this.checkFrameList = []; //清空数组\n        this.changeColorDeal();\n\n        this.node.x = this.node.ox;\n        this.node.y = this.node.oy;\n    },\n\n    // use this for initialization\n    onLoad: function onLoad() {\n        this.checkFrameList = [];\n        this.checkFKlist = [];\n\n        var oneNode = this.newOneNode();\n        this.node.addChild(oneNode);\n\n        //添加触摸\n        this.addTouchEvent();\n\n        //debug字用\n        // var labelNode = new cc.Node(\"New Label\")\n        // var labelCp = this.node.addComponent(cc.Label)\n        // labelCp.string = \"x:\"+Math.floor(this.node.x) + \"\\ny:\" + Math.floor(this.node.y)\n        // labelCp.fontSize = 18\n        // labelNode.parent = this.node\n        // labelNode.zIndex = 1\n        // cc.log(\"Node zIndex: \" + labelNode.zIndex)\n        // this.debugLabel = labelCp\n    }\n\n    // called every frame, uncomment this function to activate update callback\n    // update: function (dt) {\n\n    // },\n});\n\ncc._RFpop();","\"use strict\";\ncc._RFpush(module, 'fa093eyq9ROGJnwYLEn4xRL', 'ScoreBtnCp');\n// script\\ScoreBtnCp.js\n\ncc.Class({\n    \"extends\": cc.Component,\n\n    properties: {\n        // foo: {\n        //    default: null,\n        //    url: cc.Texture2D,  // optional, default is typeof default\n        //    serializable: true, // optional, default is true\n        //    visible: true,      // optional, default is true\n        //    displayName: 'Foo', // optional\n        //    readonly: false,    // optional, default is false\n        // },\n        // ...\n    },\n\n    // use this for initialization\n    onLoad: function onLoad() {}\n\n});\n// called every frame, uncomment this function to activate update callback\n// update: function (dt) {\n\n// },\n\ncc._RFpop();","\"use strict\";\ncc._RFpush(module, '7d9dd4jmi9I7Z1fgVPHfEXS', 'StartBtnCp');\n// script\\StartBtnCp.js\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\ncc.Class({\n    \"extends\": cc.Component,\n\n    properties: _defineProperty({}, \"游戏界面\", {\n        \"default\": null,\n        type: cc.Prefab\n    }),\n\n    onClick: function onClick() {\n        var canvas = this.node.parent;\n        var action = cc.sequence(cc.scaleTo(0.2, 0), cc.callFunc(function () {\n            cc.log(\"开始游戏\");\n\n            cc.director.loadScene(\"gameScene\");\n\n            // cc.loader.loadRes(\"scoreBtn\", function (err, node) {\n            //     var newNode = cc.instantiate(node);\n            //     canvas.addChild(newNode);\n            // })\n\n            // cc.loader.loadRes(\"lbxLayout\", function (err, node) {\n            //     var newNode = cc.instantiate(node);\n            //     canvas.addChild(newNode);\n\n            // })\n\n            // cc.loader.loadRes(\"getNewFK\", function (err, node) {\n            //     var newNode = cc.instantiate(node);\n            //     canvas.addChild(newNode);\n\n            // })\n\n            this.node.destroy();\n        }, this));\n\n        var anim = this.getComponent(cc.Animation);\n        anim.stop();\n\n        this.node.runAction(action);\n    },\n\n    // use this for initialization\n    onLoad: function onLoad() {}\n\n});\n// called every frame, uncomment this function to activate update callback\n// update: function (dt) {\n\n// },\n\ncc._RFpop();","\"use strict\";\ncc._RFpush(module, '1f57fJXW/5MwpzGE2th5qGE', 'Util');\n// script\\gameCore\\common\\Util.js\n\n/**\r\n * Created by Administrator on 2016/5/6.\r\n */\nvar _p = {\n\n    //遍历对象的属性和方法\n    printObj: function printObj(obj) {\n        // 用来保存所有的属性名称和值\n        var props = \"\";\n        // 开始遍历\n        for (var p in obj) {\n            // 方法\n            if (typeof obj[p] == \" function \") {\n                props += p + \" \\n \";\n            } else {\n                // p 为属性名称，obj[p]为对应属性的值\n                props += p + \" \\n \";\n            }\n        } // 最后显示所有的属性\n\n        cc.log(props);\n    },\n\n    //随机\n    random: function random(min, max) {\n\n        return Math.floor(Math.random() * (max - min + 1) + min);\n    }\n};\n\nmodule.exports = _p;\n\ncc._RFpop();"],"sourceRoot":"/source/"}